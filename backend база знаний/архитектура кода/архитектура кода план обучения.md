# План обучения: Чистая архитектура и принципы проектирования

## Этап 1: Основы проектирования (2-3 недели)

### Неделя 1: SOLID принципы
**Цель:** Понять фундаментальные принципы качественного кода

- **Single Responsibility Principle (SRP)**
  - Один класс = одна причина для изменения
  - Разделение ответственности и cohesion
  - Влияние на тестируемость

- **Open/Closed Principle (OCP)**
  - Открыт для расширения, закрыт для модификации
  - Использование абстракций и полиморфизма
  - Точки расширения в архитектуре

- **Liskov Substitution Principle (LSP)**
  - Поведенческая совместимость наследников
  - Контрактное программирование
  - Проблемы нарушения в runtime

### Неделя 2: SOLID принципы (продолжение)

- **Interface Segregation Principle (ISP)**
  - Клиенты не должны зависеть от неиспользуемых методов
  - Разделение интерфейсов по ролям
  - Борьба с "interface pollution"

- **Dependency Inversion Principle (DIP)**
  - Зависимость от абстракций, а не от конкретики
  - Инверсия управления
  - Влияние на архитектуру слоев

### Неделя 3: Coupling и Cohesion
**Цель:** Понять метрики качества архитектуры

- Типы связанности (coupling)
- Виды сплоченности (cohesion)
- Баланс между принципами и производительностью
- Метрики оценки качества кода

## Этап 2: Внедрение зависимостей (1-2 недели)

### Неделя 4: Dependency Injection

- **Основы DI**
  - Constructor, Setter, Interface injection
  - Разница между DI и Service Locator
  - Manual DI vs DI-контейнеры

- **Жизненные циклы объектов**
  - Singleton, Transient, Scoped
  - Captive Dependencies
  - Управление disposable ресурсами

- **Антипаттерны и лучшие практики**
  - Constructor Over-injection
  - Скрытые зависимости
  - DI в тестировании

## Этап 3: Ключевые паттерны (2-3 недели)

### Неделя 5-6: Фундаментальные паттерны

- **Strategy Pattern**
  - Инкапсуляция алгоритмов
  - Runtime выбор стратегии
  - Связь с функциональным программированием

- **Decorator Pattern**
  - Расширение функциональности без наследования
  - Цепочки декораторов
  - Интеграция с DI

- **Factory Patterns**
  - Factory Method vs Abstract Factory vs Builder
  - Создание объектов с runtime параметрами
  - Совмещение с DI

### Неделя 7: Data Access паттерны

- **Repository Pattern**
  - Абстракция доступа к данным
  - Generic vs специфичные репозитории
  - Интеграция с ORM

- **Unit of Work**
  - Управление транзакциями
  - Интеграция с Repository
  - Обработка откатов

## Этап 4: Clean Architecture (3-4 недели)

### Неделя 8: Основы архитектуры

- **Принципы Clean Architecture**
  - Разделение на слои
  - Dependency Rule
  - Независимость от фреймворков и БД

- **Entities и Use Cases**
  - Доменная логика в центре
  - Границы между слоями
  - Передача данных между слоями

### Неделя 9: Порты и адаптеры

- **Hexagonal Architecture (Ports & Adapters)**
  - Primary и Secondary адаптеры
  - Anti-corruption layer
  - Изоляция внешних систем

- **Интеграция с базами данных**
  - Размещение Repository и ORM
  - Mapping между слоями
  - Обработка транзакций

### Неделя 10-11: Продвинутые концепции

- **CQRS и Command Pattern**
  - Разделение команд и запросов
  - Command Handlers
  - Event Sourcing (базовые понятия)

- **Обработка ошибок**
  - Исключения между слоями
  - Result pattern
  - Graceful degradation

## Этап 5: Domain-Driven Design (2-3 недели)

### Неделя 12: Основы DDD

- **Доменное моделирование**
  - Анемичная vs богатая модель
  - Ubiquitous Language
  - Bounded Context

- **Building Blocks**
  - Entities vs Value Objects
  - Services
  - Repositories в DDD

### Неделя 13-14: Продвинутый DDD

- **Aggregates**
  - Определение границ агрегата
  - Aggregate Root
  - Поддержание инвариантов

- **Domain Events**
  - Проектирование событий
  - Обработка событий
  - Integration Events

## Этап 6: Практическое применение (2-3 недели)

### Неделя 15: Тестирование архитектуры

- **Стратегии тестирования**
  - Unit vs Integration vs E2E
  - Architecture Tests
  - Тестирование Use Cases

- **Test Doubles**
  - Mocks, Stubs, Fakes
  - Интеграция с DI
  - Isolation в тестах

### Неделя 16: Работа с Legacy кодом

- **Стратегии рефакторинга**
  - Strangler Fig pattern
  - Big Bang vs Incremental
  - Characterization Tests

- **Выявление технического долга**
  - Architectural Smells
  - Метрики качества
  - Приоритизация рефакторинга

### Неделя 17: Performance и архитектура

- **Оптимизация архитектуры**
  - Накладные расходы абстракций
  - Компромиссы принципов и производительности
  - Измерение влияния архитектурных решений

## Практические задания по этапам

### Этап 1-2: Рефакторинг существующего кода
- Выявление нарушений SOLID
- Применение DI к legacy коду
- Написание unit тестов

### Этап 3-4: Создание мини-приложения
- Реализация Clean Architecture
- Применение ключевых паттернов
- Разделение на слои

### Этап 5-6: Доменное моделирование
- Проектирование богатой доменной модели
- Реализация агрегатов и событий
- Комплексное тестирование

## Ресурсы для изучения

**Книги:**
- Clean Architecture (Robert Martin)
- Clean Code (Robert Martin)
- Domain-Driven Design (Eric Evans)
- Patterns of Enterprise Application Architecture (Martin Fowler)
- Working Effectively with Legacy Code (Michael Feathers)

**Практика:**
- Создание pet-проекта с применением изученных принципов
- Code review существующих проектов
- Участие в архитектурных обсуждениях
- Рефакторинг production кода

## Критерии освоения

**Junior → Middle:**
- Понимание SOLID принципов
- Базовое применение DI
- Знание основных паттернов

**Middle → Senior:**
- Проектирование Clean Architecture
- Понимание trade-offs
- Опыт рефакторинга

**Senior → Lead:**
- Экспертиза в DDD
- Принятие архитектурных решений
- Наставничество команды

---

*Общая продолжительность: 17 недель (4-5 месяцев)*  
*Интенсивность: 10-15 часов в неделю*