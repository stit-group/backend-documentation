# üê≥ Docker –¥–ª—è Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—É—Ä—Å

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫—É—Ä—Å–∞

**–ë–ª–æ–∫ 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ Docker**
- –ì–ª–∞–≤–∞ 1: –ü—Ä–æ–±–ª–µ–º—ã —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è Docker
- –ì–ª–∞–≤–∞ 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Docker –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**–ë–ª–æ–∫ 2: –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å Docker** 
- –ì–ª–∞–≤–∞ 3: –û–±—Ä–∞–∑—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ì–ª–∞–≤–∞ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–ë–ª–æ–∫ 3: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤**
- –ì–ª–∞–≤–∞ 5: –û—Å–Ω–æ–≤—ã Dockerfile
- –ì–ª–∞–≤–∞ 6: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤

**–ë–ª–æ–∫ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–µ—Ç—è–º–∏**
- –ì–ª–∞–≤–∞ 7: Volumes –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
- –ì–ª–∞–≤–∞ 8: Networks –∏ —Å–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

**–ë–ª–æ–∫ 5: Docker Compose**
- –ì–ª–∞–≤–∞ 9: –û—Å–Ω–æ–≤—ã Docker Compose
- –ì–ª–∞–≤–∞ 10: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Compose

**–ë–ª–æ–∫ 6: Production-–≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è**
- –ì–ª–∞–≤–∞ 11: Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ì–ª–∞–≤–∞ 12: –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ CI/CD

**–ë–ª–æ–∫ 7: –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏**
- –ì–ª–∞–≤–∞ 13: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ì–ª–∞–≤–∞ 14: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

---

# –ë–ª–æ–∫ 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ Docker

## –ì–ª–∞–≤–∞ 1: –ü—Ä–æ–±–ª–µ–º—ã —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è Docker

### 1.1 –ü—Ä–æ–±–ª–µ–º—ã —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```
üè† –õ–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞     ‚Üí     üîß –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä     ‚Üí     üöÄ –ü—Ä–æ–¥–∞–∫—à–Ω
Python 3.9              ‚Üí     Python 3.8             ‚Üí     Python 3.7
Ubuntu 20.04            ‚Üí     CentOS 7               ‚Üí     RHEL 8
MySQL 8.0               ‚Üí     MySQL 5.7              ‚Üí     PostgreSQL 13
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** "–£ –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç!" ‚Üí "–ù–∞ —Ç–µ—Å—Ç–µ –ø–∞–¥–∞–µ—Ç" ‚Üí "–í –ø—Ä–æ–¥–∞–∫—à–Ω–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"

### 1.2 Docker —Ä–µ—à–µ–Ω–∏–µ

```
üì¶ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
‚îú‚îÄ‚îÄ –¢–æ—á–Ω–æ —Ç–∞–∫–∞—è –∂–µ –û–°
‚îú‚îÄ‚îÄ –¢–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
‚îú‚îÄ‚îÄ –¢–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
```

### 1.3 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã vs Docker

```
üñ•Ô∏è –í–ò–†–¢–£–ê–õ–¨–ù–´–ï –ú–ê–®–ò–ù–´                 üê≥ DOCKER –ö–û–ù–¢–ï–ô–ù–ï–†–´
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A        ‚îÇ           ‚îÇ     –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§           ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ       –ì–æ—Å—Ç–µ–≤–∞—è –û–°       ‚îÇ           ‚îÇ     Docker Engine       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§           ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     –ì–∏–ø–µ—Ä–≤–∏–∑–æ—Ä          ‚îÇ           ‚îÇ      –•–æ—Å—Ç–æ–≤–∞—è –û–°        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ      –•–æ—Å—Ç–æ–≤–∞—è –û–°        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–†–∞–∑–º–µ—Ä: ~GB                           –†–∞–∑–º–µ—Ä: ~MB
–ó–∞–ø—É—Å–∫: ~–º–∏–Ω—É—Ç—ã                       –ó–∞–ø—É—Å–∫: ~—Å–µ–∫—É–Ω–¥—ã
–†–µ—Å—É—Ä—Å—ã: –ú–Ω–æ–≥–æ                        –†–µ—Å—É—Ä—Å—ã: –ú–∞–ª–æ
```

## –ì–ª–∞–≤–∞ 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Docker –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 2.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Docker

```
Docker Client ‚Üí Docker Daemon ‚Üí Images/Containers/Networks/Volumes
     ‚Üì               ‚Üì               ‚Üì
docker run     –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ      Docker Hub/Registry
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Docker Client** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- **Docker Daemon** - —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **Docker Images** - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **Docker Containers** - –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
- **Docker Registry** - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—Ä–∞–∑–æ–≤

### 2.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

#### Ubuntu/Debian:
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
sudo apt update

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt install apt-transport-https ca-certificates curl gnupg lsb-release

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ GPG –∫–ª—é—á–∞ Docker
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
```

#### macOS:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew
brew install --cask docker

# –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å Docker Desktop —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
```

#### Windows:
```bash
# –°–∫–∞—á–∞—Ç—å Docker Desktop —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
# –¢—Ä–µ–±—É–µ—Ç WSL2 –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```

### 2.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
docker --version
# Docker version 24.0.5, build ced0996

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ
docker info

# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
docker run hello-world
```

### 2.4 –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```
üì• PULL IMAGE    ‚Üí    üèóÔ∏è CREATE        ‚Üí    ‚ñ∂Ô∏è START       ‚Üí    ‚è∏Ô∏è STOP        ‚Üí    üóëÔ∏è REMOVE
docker pull           docker create        docker start       docker stop        docker rm
     ‚Üì                      ‚Üì                   ‚Üì                  ‚Üì                  ‚Üì
–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞    –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞   –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞    –û—Å—Ç–∞–Ω–æ–≤–∫–∞          –£–¥–∞–ª–µ–Ω–∏–µ
```

---

# –ë–ª–æ–∫ 2: –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å Docker

## –ì–ª–∞–≤–∞ 3: –û–±—Ä–∞–∑—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### 3.1 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±—Ä–∞–∑–æ–≤

```bash
# –ü–æ–∏—Å–∫ –æ–±—Ä–∞–∑–æ–≤
docker search nginx
docker search postgres --limit 5

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
docker pull nginx
docker pull nginx:1.25-alpine
docker pull postgres:15.3

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker images
docker images --format "table {{.Repository}}\t{{.Tag}}\t{{.Size}}"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–±—Ä–∞–∑–µ
docker inspect nginx:latest

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Å–ª–æ–µ–≤ –æ–±—Ä–∞–∑–∞
docker history nginx:latest

# –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
docker rmi nginx:latest
docker rmi $(docker images -q)  # –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤
```

### 3.2 –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã)
docker run nginx                    # –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π –∑–∞–ø—É—Å–∫
docker run -d nginx                 # –§–æ–Ω–æ–≤—ã–π –∑–∞–ø—É—Å–∫
docker run -it ubuntu bash          # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
docker run --rm nginx               # –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
docker run --name my-nginx nginx    # –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

# –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤
docker run -d -p 8080:80 nginx                # –•–æ—Å—Ç:–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -d -p 127.0.0.1:8080:80 nginx      # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP
docker run -d -P nginx                        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–±—Ä–æ—Å

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker run -d -e POSTGRES_PASSWORD=secret postgres
docker run -d --env-file .env postgres

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps                           # –¢–æ–ª—å–∫–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ
docker ps -a                        # –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker start my-nginx               # –ó–∞–ø—É—Å–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ
docker stop my-nginx                # –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
docker kill my-nginx                # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
docker restart my-nginx             # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker pause my-nginx               # –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞
docker unpause my-nginx             # –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker rm my-nginx                  # –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ
docker rm -f my-nginx               # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
docker container prune              # –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö
```

### 3.3 –†–∞–±–æ—Ç–∞ —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec -it my-nginx bash
docker exec my-nginx ls -la /usr/share/nginx/html
docker exec -u root my-nginx apt update

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs my-nginx
docker logs -f my-nginx              # –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
docker logs --tail 50 my-nginx       # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
docker logs --since 2h my-nginx      # –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —á–∞—Å–∞

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
docker cp ./index.html my-nginx:/usr/share/nginx/html/
docker cp my-nginx:/etc/nginx/nginx.conf ./

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats                        # –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker stats my-nginx               # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```

## –ì–ª–∞–≤–∞ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 4.1 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –í–µ–±-—Å–µ—Ä–≤–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
mkdir my-website
echo "<h1>Hello Docker!</h1>" > my-website/index.html

# –ó–∞–ø—É—Å–∫ nginx —Å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
docker run -d \
  --name my-website \
  -p 8080:80 \
  -v $(pwd)/my-website:/usr/share/nginx/html \
  nginx:alpine

# –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:8080
```

### 4.2 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
docker run -d \
  --name my-postgres \
  -e POSTGRES_DB=myapp \
  -e POSTGRES_USER=developer \
  -e POSTGRES_PASSWORD=secret123 \
  -p 5432:5432 \
  -v postgres_data:/var/lib/postgresql/data \
  postgres:15-alpine

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ
docker exec -it my-postgres psql -U developer -d myapp

# SQL –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec my-postgres psql -U developer -d myapp -c "CREATE TABLE users (id SERIAL PRIMARY KEY, name VARCHAR(100));"
```

### 4.3 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ Redis
docker run -d \
  --name my-redis \
  -p 6379:6379 \
  redis:alpine redis-server --appendonly yes

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
docker exec -it my-redis redis-cli
# 127.0.0.1:6379> SET test "Hello Redis"
# 127.0.0.1:6379> GET test
```

### 4.4 –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker top my-nginx

# –ò–Ω—Å–ø–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker inspect my-nginx | jq '.[0].NetworkSettings.IPAddress'

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
docker diff my-nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker commit my-nginx my-custom-nginx:1.0

# –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker export my-nginx > my-nginx.tar
docker import my-nginx.tar my-nginx:backup
```

### 4.5 –ú–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
docker network create myapp-network

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker run -d \
  --name db \
  --network myapp-network \
  -e POSTGRES_DB=api \
  -e POSTGRES_USER=api \
  -e POSTGRES_PASSWORD=secret \
  postgres:15-alpine

# Backend
docker run -d \
  --name api \
  --network myapp-network \
  -e DATABASE_URL=postgresql://api:secret@db:5432/api \
  my-api:latest

# Frontend
docker run -d \
  --name frontend \
  --network myapp-network \
  -p 80:80 \
  nginx:alpine
```

---

# –ë–ª–æ–∫ 3: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤

## –ì–ª–∞–≤–∞ 5: –û—Å–Ω–æ–≤—ã Dockerfile

### 5.1 –ê–Ω–∞—Ç–æ–º–∏—è Dockerfile

```dockerfile
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –≤—ã–±–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞
FROM node:18-alpine

# –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
LABEL maintainer="developer@company.com"
LABEL version="1.0"
LABEL description="My awesome API"

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENV NODE_ENV=production
ENV PORT=3000

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
RUN apk add --no-cache \
    curl \
    wget \
    && rm -rf /var/cache/apk/*

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
RUN addgroup -g 1001 -S nodejs \
    && adduser -S nextjs -u 1001

# –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY package*.json ./

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN npm ci --only=production \
    && npm cache clean --force

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
COPY . .

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–æ–≤
RUN chown -R nextjs:nodejs /app
USER nextjs

# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞
EXPOSE 3000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
HEALTHCHECK --interval=30s --timeout=3s --start-period=60s --retries=3 \
  CMD curl -f http://localhost:3000/health || exit 1

# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
CMD ["npm", "start"]
```

### 5.2 –í—ã–±–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞

```dockerfile
# ‚ùå –ü–ª–æ—Ö–æ: —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
FROM ubuntu:20.04

# ‚úÖ –õ—É—á—à–µ: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
FROM node:18

# ‚úÖ –û—Ç–ª–∏—á–Ω–æ: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
FROM node:18-alpine

# üéØ –ò–¥–µ–∞–ª—å–Ω–æ: distroless –¥–ª—è production
FROM gcr.io/distroless/nodejs18-debian11
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤:**
```
ubuntu:20.04     ‚Üí ~72MB
node:18          ‚Üí ~993MB  
node:18-alpine   ‚Üí ~172MB
distroless       ‚Üí ~58MB
```

### 5.3 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Dockerfile

#### COPY vs ADD:
```dockerfile
# COPY - –ø—Ä–æ—Å—Ç–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
COPY src/ /app/src/
COPY package*.json ./

# ADD - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
ADD https://example.com/file.tar.gz /tmp/  # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ URL
ADD archive.tar.gz /app/                   # –ê–≤—Ç–æ—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤
```

#### RUN –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
```dockerfile
# ‚ùå –ü–ª–æ—Ö–æ: –º–Ω–æ–≥–æ —Å–ª–æ–µ–≤
RUN apt-get update
RUN apt-get install -y curl
RUN apt-get install -y wget
RUN apt-get clean

# ‚úÖ –•–æ—Ä–æ—à–æ: –æ–¥–∏–Ω —Å–ª–æ–π
RUN apt-get update \
    && apt-get install -y \
        curl \
        wget \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*
```

#### CMD vs ENTRYPOINT:
```dockerfile
# CMD - –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
CMD ["npm", "start"]
# docker run myapp npm test  ‚Üê –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç CMD

# ENTRYPOINT - –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
ENTRYPOINT ["npm"]
CMD ["start"]
# docker run myapp test  ‚Üê –≤—ã–ø–æ–ª–Ω–∏—Ç "npm test"

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
ENTRYPOINT ["./docker-entrypoint.sh"]
CMD ["npm", "start"]
```

### 5.4 .dockerignore –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```dockerignore
# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
*.md
docs/

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ package.json)
node_modules/
npm-debug.log*

# –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/
*.swp
*.swo

# –¢–µ—Å—Ç—ã (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã –≤ –æ–±—Ä–∞–∑–µ)
**/*.test.js
**/*.spec.js
coverage/

# CI/CD
.github/
.gitlab-ci.yml
Jenkinsfile

# Docker
Dockerfile*
docker-compose*.yml

# Environment
.env.local
.env.development
.env.test

# –õ–æ–≥–∏
logs/
*.log

# –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
tmp/
temp/
*.tmp
```

## –ì–ª–∞–≤–∞ 6: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤

### 6.1 –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ (Multi-stage builds)

```dockerfile
# ==========================================
# –≠—Ç–∞–ø 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
# ==========================================
FROM node:18-alpine AS dependencies

WORKDIR /app
COPY package*.json ./
RUN npm ci --include=dev

# ==========================================
# –≠—Ç–∞–ø 2: –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# ==========================================
FROM dependencies AS builder

COPY . .
RUN npm run build \
    && npm run test \
    && npm prune --production

# ==========================================
# –≠—Ç–∞–ø 3: –ü—Ä–æ–¥–∞–∫—à–Ω –æ–±—Ä–∞–∑
# ==========================================
FROM node:18-alpine AS production

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
RUN addgroup -g 1001 -S nodejs \
    && adduser -S nextjs -u 1001

WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ
COPY --from=builder --chown=nextjs:nodejs /app/dist ./dist
COPY --from=builder --chown=nextjs:nodejs /app/node_modules ./node_modules
COPY --from=builder --chown=nextjs:nodejs /app/package.json ./package.json

USER nextjs

EXPOSE 3000

CMD ["npm", "start"]
```

### 6.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ–µ–≤

```dockerfile
# ‚ùå –ü–ª–æ—Ö–æ: –∫—ç—à –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞
FROM node:18-alpine
COPY . .
RUN npm install

# ‚úÖ –•–æ—Ä–æ—à–æ: –∫—ç—à –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–¥–∞
FROM node:18-alpine
WORKDIR /app

# –°–ª–æ–π 1: package.json (–º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ)
COPY package*.json ./
RUN npm ci --only=production

# –°–ª–æ–π 2: –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ)
COPY . .

# –°–ª–æ–π 3: —Å–±–æ—Ä–∫–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è –∫–æ–¥)
RUN npm run build
```

### 6.3 ARG –∏ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```dockerfile
# ARG - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏
ARG NODE_VERSION=18
ARG BUILD_DATE
ARG VERSION

FROM node:${NODE_VERSION}-alpine

# ENV - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
ENV NODE_ENV=production
ENV PORT=3000
ENV BUILD_DATE=${BUILD_DATE}
ENV VERSION=${VERSION}

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
ENV DATABASE_URL=""
ENV REDIS_URL=""

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
RUN echo "Building version ${VERSION} on ${BUILD_DATE}"

LABEL version=$VERSION
LABEL build-date=$BUILD_DATE

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE $PORT

CMD ["npm", "start"]
```

–°–±–æ—Ä–∫–∞ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:
```bash
docker build \
  --build-arg VERSION=1.2.3 \
  --build-arg BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ') \
  -t myapp:1.2.3 .
```

### 6.4 –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

#### Dockerfile –¥–ª—è Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```dockerfile
FROM python:3.11-slim

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
RUN apt-get update \
    && apt-get install -y --no-install-recommends \
        build-essential \
        curl \
        libpq-dev \
    && rm -rf /var/lib/apt/lists/*

# Python –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
ENV PYTHONUNBUFFERED=1
ENV PYTHONDONTWRITEBYTECODE=1
ENV PIP_NO_CACHE_DIR=1
ENV PIP_DISABLE_PIP_VERSION_CHECK=1

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
RUN useradd --create-home --shell /bin/bash app

WORKDIR /app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
COPY --chown=app:app . .

USER app

EXPOSE 8000

HEALTHCHECK --interval=30s --timeout=10s --start-period=60s --retries=3 \
  CMD curl -f http://localhost:8000/health || exit 1

CMD ["gunicorn", "--bind", "0.0.0.0:8000", "app:app"]
```

#### Dockerfile –¥–ª—è Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```dockerfile
# ==========================================
# –≠—Ç–∞–ø —Å–±–æ—Ä–∫–∏
# ==========================================
FROM golang:1.21-alpine AS builder

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ git –¥–ª—è –º–æ–¥—É–ª–µ–π
RUN apk add --no-cache git

WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ go.mod –∏ go.sum –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY go.mod go.sum ./
RUN go mod download

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
COPY . .

# –°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
RUN CGO_ENABLED=0 GOOS=linux go build \
    -ldflags='-w -s -extldflags "-static"' \
    -a -installsuffix cgo \
    -o main .

# ==========================================
# –ü—Ä–æ–¥–∞–∫—à–Ω –æ–±—Ä–∞–∑
# ==========================================
FROM scratch

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è HTTPS
COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
COPY --from=builder /app/main /main

EXPOSE 8080

USER 1000

ENTRYPOINT ["/main"]
```

---

# –ë–ª–æ–∫ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–µ—Ç—è–º–∏

## –ì–ª–∞–≤–∞ 7: Volumes –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

### 7.1 –ü—Ä–æ–±–ª–µ–º–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```
üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
üìù –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
üõë –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
üóëÔ∏è –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª—è–µ—Ç—Å—è
üíî –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ù–ê–í–°–ï–ì–î–ê!
```

### 7.2 –¢–∏–ø—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**Volumes (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
- –£–ø—Ä–∞–≤–ª—è—é—Ç—Å—è Docker
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

**Bind Mounts:**
- –ü—Ä—è–º–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ö–æ—Å—Ç–∞
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ö–æ—Å—Ç–∞
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**tmpfs mounts:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ

### 7.3 Named Volumes

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ volume
docker volume create mydata
docker volume create postgres_data
docker volume create --driver local --opt type=tmpfs --opt device=tmpfs mytemp

# –ü—Ä–æ—Å–º–æ—Ç—Ä volumes
docker volume ls
docker volume inspect mydata

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
docker run -d \
  --name postgres \
  -v postgres_data:/var/lib/postgresql/data \
  -e POSTGRES_PASSWORD=secret \
  postgres:15

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
docker run --rm \
  -v postgres_data:/data \
  -v $(pwd):/backup \
  alpine tar czf /backup/postgres_backup.tar.gz -C /data .

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
docker run --rm \
  -v postgres_data:/data \
  -v $(pwd):/backup \
  alpine sh -c "cd /data && tar xzf /backup/postgres_backup.tar.gz --strip 1"

# –£–¥–∞–ª–µ–Ω–∏–µ volumes
docker volume rm mydata
docker volume prune  # –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö volumes
```

### 7.4 Bind Mounts

```bash
# –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å (Linux/macOS)
docker run -d \
  --name nginx \
  -v /home/user/website:/usr/share/nginx/html \
  nginx

# –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
docker run -d \
  --name nginx \
  -v $(pwd)/website:/usr/share/nginx/html \
  nginx

# Windows (PowerShell)
docker run -d \
  --name nginx \
  -v ${PWD}/website:/usr/share/nginx/html \
  nginx

# –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
docker run -d \
  --name nginx \
  -v $(pwd)/website:/usr/share/nginx/html:ro \
  nginx
```

### 7.5 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å volumes

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ volume –¥–ª—è PostgreSQL
docker volume create pgdata

# –ó–∞–ø—É—Å–∫ PostgreSQL —Å volume
docker run -d \
  --name postgres \
  -e POSTGRES_DB=myapp \
  -e POSTGRES_USER=developer \
  -e POSTGRES_PASSWORD=secret123 \
  -v pgdata:/var/lib/postgresql/data \
  -p 5432:5432 \
  postgres:15-alpine

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã—Ö
docker exec -it postgres psql -U developer -d myapp -c "
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);
INSERT INTO users (name, email) VALUES 
('John Doe', 'john@example.com'),
('Jane Smith', 'jane@example.com');
"

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stop postgres
docker rm postgres

# –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å —Ç–µ–º –∂–µ volume
docker run -d \
  --name postgres-new \
  -e POSTGRES_DB=myapp \
  -e POSTGRES_USER=developer \
  -e POSTGRES_PASSWORD=secret123 \
  -v pgdata:/var/lib/postgresql/data \
  -p 5432:5432 \
  postgres:15-alpine

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
docker exec -it postgres-new psql -U developer -d myapp -c "SELECT * FROM users;"
```

## –ì–ª–∞–≤–∞ 8: Networks –∏ —Å–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

### 8.1 –¢–∏–ø—ã —Å–µ—Ç–µ–π Docker

**bridge (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å
- NAT –∫ —Ö–æ—Å—Ç—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**host:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ç—å —Ö–æ—Å—Ç–∞
- –ù–µ—Ç –∏–∑–æ–ª—è—Ü–∏–∏
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**none:**
- –ë–µ–∑ —Å–µ—Ç–∏
- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è

**overlay:**
- –ú–Ω–æ–≥–æ—Ö–æ—Å—Ç–æ–≤—ã–µ —Å–µ—Ç–∏
- Docker Swarm

### 8.2 –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—è–º–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ç–µ–π
docker network ls

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ç–∏
docker network inspect bridge

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å–µ—Ç–∏
docker network create myapp-network
docker network create --driver bridge --subnet=172.20.0.0/16 custom-network

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫ —Å–µ—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
docker run -d --name web --network myapp-network nginx

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫ —Å–µ—Ç–∏
docker network connect myapp-network existing-container

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —Å–µ—Ç–∏
docker network disconnect myapp-network existing-container

# –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ç–∏
docker network rm myapp-network
docker network prune  # –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ç–µ–π
```

### 8.3 –°–≤—è–∑–∫–∞ Frontend + Backend + Database

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
docker network create fullstack-network

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker run -d \
  --name postgres \
  --network fullstack-network \
  -e POSTGRES_DB=myapp \
  -e POSTGRES_USER=api \
  -e POSTGRES_PASSWORD=secret \
  postgres:15-alpine

# Backend API
docker run -d \
  --name api \
  --network fullstack-network \
  -e DATABASE_URL=postgresql://api:secret@postgres:5432/myapp \
  myapi:latest

# Frontend (—Å –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–º –ø–æ—Ä—Ç–æ–º –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑–≤–Ω–µ)
docker run -d \
  --name frontend \
  --network fullstack-network \
  -p 80:80 \
  -e API_URL=http://api:3000 \
  myfrontend:latest
```

### 8.4 Service Discovery –∏ DNS

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS —Ä–µ–∑–æ–ª—é—Ü–∏–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker exec -it frontend nslookup api

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker exec -it frontend ping api
docker exec -it frontend curl http://api/health

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec -it frontend ip addr show

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
docker exec -it frontend ip route
```

### 8.5 –°–µ—Ç–µ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
docker network create --internal database-network
docker network create --internal cache-network

# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–æ—Å—Ç—É–ø–æ–º —Ç–æ–ª—å–∫–æ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ç—è–º
docker run -d \
  --name secure-api \
  --network database-network \
  --network cache-network \
  secure-api:latest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ (–Ω–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)
docker exec -it secure-api curl https://google.com
```

---

# –ë–ª–æ–∫ 5: Docker Compose

## –ì–ª–∞–≤–∞ 9: –û—Å–Ω–æ–≤—ã Docker Compose

### 9.1 –ü—Ä–æ–±–ª–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –ë–µ–∑ Compose: –º–Ω–æ–≥–æ –∫–æ–º–∞–Ω–¥ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker network create myapp-network
docker volume create postgres_data
docker volume create redis_data

docker run -d --name postgres --network myapp-network \
  -v postgres_data:/var/lib/postgresql/data \
  -e POSTGRES_DB=myapp -e POSTGRES_USER=api -e POSTGRES_PASSWORD=secret \
  postgres:15-alpine

docker run -d --name redis --network myapp-network \
  -v redis_data:/data \
  redis:alpine

docker run -d --name api --network myapp-network \
  -e DATABASE_URL=postgresql://api:secret@postgres:5432/myapp \
  -e REDIS_URL=redis://redis:6379 \
  myapi:latest

docker run -d --name frontend --network myapp-network \
  -p 80:80 -e API_URL=http://api:3000 \
  myfrontend:latest
```

### 9.2 Docker Compose —Ä–µ—à–µ–Ω–∏–µ

```yaml
# docker-compose.yml - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ
version: '3.8'

services:
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: myapp
      POSTGRES_USER: api
      POSTGRES_PASSWORD: secret
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:alpine
    volumes:
      - redis_data:/data

  api:
    image: myapi:latest
    environment:
      DATABASE_URL: postgresql://api:secret@postgres:5432/myapp
      REDIS_URL: redis://redis:6379
    depends_on:
      - postgres
      - redis

  frontend:
    image: myfrontend:latest
    ports:
      - "80:80"
    environment:
      API_URL: http://api:3000
    depends_on:
      - api

volumes:
  postgres_data:
  redis_data:

networks:
  default:
    driver: bridge
```

–ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
```bash
docker-compose up -d
```

### 9.3 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker Compose

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up                    # –ó–∞–ø—É—Å–∫ –≤ foreground
docker-compose up -d                 # –ó–∞–ø—É—Å–∫ –≤ background
docker-compose up --build            # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
docker-compose up --scale api=3      # –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
docker-compose stop                  # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down                  # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down -v               # + —É–¥–∞–ª–µ–Ω–∏–µ volumes
docker-compose down --rmi all        # + —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
docker-compose start api             # –ó–∞–ø—É—Å–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose stop api              # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart api           # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose pause api             # –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
docker-compose unpause api           # –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
docker-compose ps                    # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs                  # –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f api           # –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ —Å–µ—Ä–≤–∏—Å–∞
docker-compose top                   # –ü—Ä–æ—Ü–µ—Å—Å—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
docker-compose images               # –û–±—Ä–∞–∑—ã —Å–µ—Ä–≤–∏—Å–æ–≤

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
docker-compose exec api bash         # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è
docker-compose exec api npm test     # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
docker-compose run --rm api npm install  # –†–∞–∑–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∞
docker-compose config               # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
docker-compose config --services    # –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose port api 3000        # –ü—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç
```

### 9.4 –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```yaml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - frontend
      - api
    networks:
      - web

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    environment:
      - REACT_APP_API_URL=http://localhost/api
    networks:
      - web

  api:
    build:
      context: ./api
      dockerfile: Dockerfile
    environment:
      - NODE_ENV=production
      - DATABASE_URL=postgresql://api:secret@postgres:5432/myapp
      - REDIS_URL=redis://redis:6379
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_started
    networks:
      - web
      - backend

  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: myapp
      POSTGRES_USER: api
      POSTGRES_PASSWORD: secret
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./scripts/init.sql:/docker-entrypoint-initdb.d/init.sql:ro
    networks:
      - backend
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U api -d myapp"]
      interval: 10s
      timeout: 5s
      retries: 5

  redis:
    image: redis:alpine
    volumes:
      - redis_data:/data
    networks:
      - backend

volumes:
  postgres_data:
  redis_data:

networks:
  web:
    driver: bridge
  backend:
    driver: bridge
    internal: true
```

## –ì–ª–∞–≤–∞ 10: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Compose

### 10.1 –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (docker-compose.yml):
```yaml
version: '3.8'

x-common-variables: &common-variables
  NODE_ENV: ${NODE_ENV:-development}
  DATABASE_URL: postgresql://${DB_USER}:${DB_PASSWORD}@postgres:${DB_PORT:-5432}/${DB_NAME}
  REDIS_URL: redis://redis:6379

x-logging: &default-logging
  driver: "json-file"
  options:
    max-size: "10m"
    max-file: "3"

services:
  api:
    build:
      context: .
      dockerfile: Dockerfile
      target: ${BUILD_TARGET:-development}
    environment:
      <<: *common-variables
    networks:
      - backend
    logging: *default-logging

  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: ${DB_NAME}
      POSTGRES_USER: ${DB_USER}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - backend
    logging: *default-logging

  redis:
    image: redis:alpine
    volumes:
      - redis_data:/data
    networks:
      - backend
    logging: *default-logging

volumes:
  postgres_data:
  redis_data:

networks:
  backend:
    driver: bridge
```

#### Development –æ–∫—Ä—É–∂–µ–Ω–∏–µ (docker-compose.dev.yml):
```yaml
version: '3.8'

services:
  api:
    build:
      target: development
    volumes:
      - .:/app
      - /app/node_modules
    ports:
      - "${API_PORT:-3000}:3000"
    environment:
      - NODE_ENV=development
      - DEBUG=api:*
      - NODEMON_WATCH=true
    command: ["npm", "run", "dev"]

  postgres:
    ports:
      - "${DB_PORT:-5432}:5432"

  redis:
    ports:
      - "6379:6379"

  mailhog:
    image: mailhog/mailhog
    ports:
      - "1025:1025"  # SMTP
      - "8025:8025"  # Web UI
    networks:
      - backend

  adminer:
    image: adminer
    ports:
      - "8080:8080"
    networks:
      - backend
    environment:
      ADMINER_DEFAULT_SERVER: postgres
```

#### Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ (docker-compose.prod.yml):
```yaml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
      - ./nginx/ssl:/etc/nginx/ssl:ro
      - static_files:/usr/share/nginx/html:ro
    restart: unless-stopped
    networks:
      - frontend
    depends_on:
      - api

  api:
    build:
      target: production
    restart: unless-stopped
    environment:
      - NODE_ENV=production
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    deploy:
      replicas: 2
      resources:
        limits:
          memory: 512M
          cpus: '0.5'
    networks:
      - frontend
      - backend

  postgres:
    restart: unless-stopped
    command: postgres -c max_connections=200 -c shared_buffers=256MB
    deploy:
      resources:
        limits:
          memory: 1G
          cpus: '1.0'
    networks:
      - backend

  redis:
    restart: unless-stopped
    command: redis-server --maxmemory 256mb --maxmemory-policy allkeys-lru
    networks:
      - backend

volumes:
  static_files:

networks:
  frontend:
    driver: bridge
```

### 10.2 –ó–∞–ø—É—Å–∫ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

```bash
# Development
docker-compose -f docker-compose.yml -f docker-compose.dev.yml --env-file .env.dev up -d

# Test
docker-compose -f docker-compose.yml -f docker-compose.test.yml --env-file .env.test up --abort-on-container-exit

# Production
docker-compose -f docker-compose.yml -f docker-compose.prod.yml --env-file .env.prod up -d
```

### 10.3 Profiles –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```yaml
version: '3.8'

services:
  api:
    build: .
    # –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

  postgres:
    image: postgres:15-alpine
    # –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

  redis:
    image: redis:alpine
    profiles: ["cache"]  # –¢–æ–ª—å–∫–æ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º cache

  monitoring:
    image: prom/prometheus
    profiles: ["monitoring"]  # –¢–æ–ª—å–∫–æ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º monitoring

  debug-tools:
    image: nicolaka/netshoot
    profiles: ["debug"]  # –¢–æ–ª—å–∫–æ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º debug
    command: ["sleep", "infinity"]
```

–ó–∞–ø—É—Å–∫ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏:
```bash
# –ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –° –∫—ç—à–µ–º
docker-compose --profile cache up -d

# –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
docker-compose --profile cache --profile monitoring --profile debug up -d
```

### 10.4 –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

```yaml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - api

  api:
    build: .
    environment:
      - NODE_ENV=production
    deploy:
      replicas: 3
      update_config:
        parallelism: 1
        delay: 10s
        failure_action: rollback
      restart_policy:
        condition: on-failure
        delay: 5s
        max_attempts: 3
        window: 120s
```

–ö–æ–º–∞–Ω–¥—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –ó–∞–ø—É—Å–∫ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ–ø–ª–∏–∫
docker-compose up -d --scale api=5

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫ –Ω–∞ –ª–µ—Ç—É
docker-compose up -d --scale api=3 --no-recreate
```

---

# –ë–ª–æ–∫ 6: Production-–≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

## –ì–ª–∞–≤–∞ 11: Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 11.1 –ü–æ–ª–Ω—ã–π production stack

```yaml
version: '3.8'

x-restart-policy: &restart-policy
  restart: unless-stopped

x-healthcheck-defaults: &healthcheck-defaults
  interval: 30s
  timeout: 10s
  retries: 3
  start_period: 60s

x-logging: &logging
  driver: "json-file"
  options:
    max-size: "10m"
    max-file: "5"

services:
  traefik:
    image: traefik:v3.0
    <<: *restart-policy
    command:
      - "--api.dashboard=true"
      - "--providers.docker=true"
      - "--providers.docker.exposedbydefault=false"
      - "--entrypoints.web.address=:80"
      - "--entrypoints.websecure.address=:443"
      - "--certificatesresolvers.letsencrypt.acme.tlschallenge=true"
      - "--certificatesresolvers.letsencrypt.acme.email=admin@example.com"
      - "--certificatesresolvers.letsencrypt.acme.storage=/letsencrypt/acme.json"
    ports:
      - "80:80"
      - "443:443"
      - "8080:8080"  # Dashboard
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - traefik_certs:/letsencrypt
    networks:
      - traefik
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.traefik.rule=Host(`traefik.example.com`)"
      - "traefik.http.routers.traefik.tls.certresolver=letsencrypt"
    logging: *logging

  api:
    build:
      context: .
      dockerfile: Dockerfile
      target: production
    <<: *restart-policy
    environment:
      - NODE_ENV=production
      - DATABASE_URL=${DATABASE_URL}
      - REDIS_URL=redis://redis:6379
      - JWT_SECRET=${JWT_SECRET}
    networks:
      - traefik
      - backend
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.api.rule=Host(`api.example.com`)"
      - "traefik.http.routers.api.tls.certresolver=letsencrypt"
      - "traefik.http.services.api.loadbalancer.server.port=3000"
    healthcheck:
      <<: *healthcheck-defaults
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
    deploy:
      replicas: 3
      resources:
        limits:
          memory: 512M
          cpus: '0.5'
        reservations:
          memory: 256M
          cpus: '0.25'
      update_config:
        parallelism: 1
        delay: 10s
        failure_action: rollback
        order: start-first
      restart_policy:
        condition: on-failure
        delay: 5s
        max_attempts: 3
    logging: *logging
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy

  postgres:
    image: postgres:15-alpine
    <<: *restart-policy
    environment:
      POSTGRES_DB: ${DB_NAME}
      POSTGRES_USER: ${DB_USER}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./backups:/backups
    networks:
      - backend
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${DB_USER} -d ${DB_NAME}"]
      interval: 10s
      timeout: 5s
      retries: 5
    command: |
      postgres
      -c max_connections=200
      -c shared_buffers=256MB
      -c effective_cache_size=1GB
      -c maintenance_work_mem=64MB
      -c checkpoint_completion_target=0.9
      -c wal_buffers=16MB
      -c default_statistics_target=100
    deploy:
      resources:
        limits:
          memory: 1G
          cpus: '1.0'
    logging: *logging

  redis:
    image: redis:alpine
    <<: *restart-policy
    command: redis-server --maxmemory 256mb --maxmemory-policy allkeys-lru --appendonly yes
    volumes:
      - redis_data:/data
    networks:
      - backend
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 3s
      retries: 5
    deploy:
      resources:
        limits:
          memory: 300M
          cpus: '0.3'
    logging: *logging

  worker:
    build:
      context: .
      dockerfile: Dockerfile
      target: production
    <<: *restart-policy
    command: ["npm", "run", "worker"]
    environment:
      - NODE_ENV=production
      - DATABASE_URL=${DATABASE_URL}
      - REDIS_URL=redis://redis:6379
    networks:
      - backend
    deploy:
      replicas: 2
      resources:
        limits:
          memory: 256M
          cpus: '0.3'
    logging: *logging
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy

  backup:
    image: postgres:15-alpine
    volumes:
      - postgres_data:/var/lib/postgresql/data:ro
      - ./backups:/backups
    environment:
      PGPASSWORD: ${DB_PASSWORD}
    command: |
      sh -c '
      while true; do
        sleep 86400  # 24 hours
        pg_dump -h postgres -U ${DB_USER} ${DB_NAME} | gzip > /backups/backup_$(date +%Y%m%d_%H%M%S).sql.gz
        find /backups -name "backup_*.sql.gz" -mtime +7 -delete
      done'
    networks:
      - backend
    depends_on:
      postgres:
        condition: service_healthy

volumes:
  postgres_data:
    driver: local
  redis_data:
    driver: local
  traefik_certs:
    driver: local

networks:
  traefik:
    external: true
  backend:
    driver: bridge
    internal: true
```

### 11.2 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### Prometheus –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (monitoring/prometheus.yml):
```yaml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'api'
    static_configs:
      - targets: ['api:3000']
    metrics_path: '/metrics'

  - job_name: 'postgres'
    static_configs:
      - targets: ['postgres-exporter:9187']

  - job_name: 'redis'
    static_configs:
      - targets: ['redis-exporter:9121']

  - job_name: 'traefik'
    static_configs:
      - targets: ['traefik:8080']

rule_files:
  - "alert_rules.yml"

alerting:
  alertmanagers:
    - static_configs:
        - targets:
          - alertmanager:9093
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ docker-compose:
```yaml
  prometheus:
    image: prom/prometheus
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    ports:
      - "9090:9090"
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--web.console.libraries=/etc/prometheus/console_libraries'
      - '--web.console.templates=/etc/prometheus/consoles'
      - '--storage.tsdb.retention.time=200h'
      - '--web.enable-lifecycle'
    networks:
      - monitoring

  grafana:
    image: grafana/grafana
    volumes:
      - grafana_data:/var/lib/grafana
      - ./monitoring/grafana/provisioning:/etc/grafana/provisioning
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    ports:
      - "3000:3000"
    networks:
      - monitoring
```

## –ì–ª–∞–≤–∞ 12: –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ CI/CD

### 12.1 E-commerce –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

```yaml
version: '3.8'

services:
  # API Gateway
  kong:
    image: kong:latest
    environment:
      KONG_DATABASE: postgres
      KONG_PG_HOST: kong-database
      KONG_PG_USER: kong
      KONG_PG_PASSWORD: kong
    depends_on:
      - kong-database
    ports:
      - "8000:8000"  # API
      - "8001:8001"  # Admin API
    networks:
      - kong-net

  # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
  user-service:
    build: ./services/user-service
    environment:
      - DATABASE_URL=postgresql://users:password@user-db:5432/users
      - JWT_SECRET=${JWT_SECRET}
    networks:
      - kong-net
      - user-net

  product-service:
    build: ./services/product-service
    environment:
      - DATABASE_URL=postgresql://products:password@product-db:5432/products
      - ELASTICSEARCH_URL=http://elasticsearch:9200
    networks:
      - kong-net
      - product-net

  order-service:
    build: ./services/order-service
    environment:
      - DATABASE_URL=postgresql://orders:password@order-db:5432/orders
      - REDIS_URL=redis://redis:6379
      - RABBITMQ_URL=amqp://rabbitmq:5672
    networks:
      - kong-net
      - order-net

  # –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  user-db:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: users
      POSTGRES_USER: users
      POSTGRES_PASSWORD: password
    volumes:
      - user_data:/var/lib/postgresql/data
    networks:
      - user-net

  product-db:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: products
      POSTGRES_USER: products
      POSTGRES_PASSWORD: password
    volumes:
      - product_data:/var/lib/postgresql/data
    networks:
      - product-net

  # –ü–æ–∏—Å–∫
  elasticsearch:
    image: elasticsearch:8.8.0
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    volumes:
      - elasticsearch_data:/usr/share/elasticsearch/data
    networks:
      - product-net

  # –û—á–µ—Ä–µ–¥–∏
  rabbitmq:
    image: rabbitmq:3.11-management
    environment:
      RABBITMQ_DEFAULT_USER: admin
      RABBITMQ_DEFAULT_PASS: admin
    ports:
      - "15672:15672"  # Management UI
    volumes:
      - rabbitmq_data:/var/lib/rabbitmq
    networks:
      - order-net

volumes:
  user_data:
  product_data:
  elasticsearch_data:
  rabbitmq_data:

networks:
  kong-net:
  user-net:
    internal: true
  product-net:
    internal: true
  order-net:
    internal: true
```

### 12.2 CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### GitHub Actions workflow (.github/workflows/deploy.yml):
```yaml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Run tests
        run: |
          docker-compose -f docker-compose.yml -f docker-compose.test.yml run --rm api npm test

  build:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Build and push Docker image
        env:
          DOCKER_BUILDKIT: 1
        run: |
          echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
          docker build --target production -t myapp:${{ github.sha }} .
          docker tag myapp:${{ github.sha }} myapp:latest
          docker push myapp:${{ github.sha }}
          docker push myapp:latest

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to server
        uses: appleboy/ssh-action@v0.1.5
        with:
          host: ${{ secrets.HOST }}
          username: ${{ secrets.USERNAME }}
          key: ${{ secrets.SSH_KEY }}
          script: |
            cd /app
            docker-compose pull
            docker-compose up -d --no-deps api worker
            docker system prune -f
```

### 12.3 –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### deploy.sh:
```bash
#!/bin/bash

set -e

ENV=${1:-production}
ACTION=${2:-deploy}

case $ENV in
  dev|development)
    COMPOSE_FILES="-f docker-compose.yml -f docker-compose.dev.yml"
    ENV_FILE=".env.dev"
    ;;
  test|testing)
    COMPOSE_FILES="-f docker-compose.yml -f docker-compose.test.yml"
    ENV_FILE=".env.test"
    ;;
  staging)
    COMPOSE_FILES="-f docker-compose.yml -f docker-compose.staging.yml"
    ENV_FILE=".env.staging"
    ;;
  prod|production)
    COMPOSE_FILES="-f docker-compose.yml -f docker-compose.prod.yml"
    ENV_FILE=".env.prod"
    ;;
  *)
    echo "Unknown environment: $ENV"
    exit 1
    ;;
esac

echo "üöÄ Deploying to $ENV environment..."

case $ACTION in
  deploy)
    echo "üì¶ Pulling latest images..."
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE pull

    echo "üîß Building services..."
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE build

    echo "üèÉ Starting services..."
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE up -d

    echo "üè• Checking health..."
    sleep 30
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE ps
    ;;

  rollback)
    echo "‚è™ Rolling back..."
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE down
    ;;

  logs)
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE logs -f
    ;;

  status)
    docker-compose $COMPOSE_FILES --env-file $ENV_FILE ps
    ;;

  *)
    echo "Unknown action: $ACTION"
    echo "Usage: $0 <env> <action>"
    echo "Environments: dev, test, staging, prod"
    echo "Actions: deploy, rollback, logs, status"
    exit 1
    ;;
esac

echo "‚úÖ $ACTION completed for $ENV environment"
```

#### backup.sh:
```bash
#!/bin/bash

set -e

BACKUP_DIR="/backups"
DATE=$(date +%Y%m%d_%H%M%S)

# Database backup
echo "üìä Backing up database..."
docker-compose exec -T postgres pg_dump -U $DB_USER $DB_NAME | gzip > "$BACKUP_DIR/db_backup_$DATE.sql.gz"

# Redis backup
echo "üíæ Backing up Redis..."
docker-compose exec redis redis-cli --rdb /data/dump.rdb
docker cp "$(docker-compose ps -q redis):/data/dump.rdb" "$BACKUP_DIR/redis_backup_$DATE.rdb"

# Application data
echo "üìÅ Backing up volumes..."
docker run --rm \
  -v myapp_postgres_data:/data/postgres \
  -v myapp_redis_data:/data/redis \
  -v $BACKUP_DIR:/backup \
  alpine tar czf "/backup/volumes_backup_$DATE.tar.gz" -C /data .

# Cleanup old backups (keep 7 days)
find $BACKUP_DIR -name "*_backup_*.gz" -mtime +7 -delete
find $BACKUP_DIR -name "*_backup_*.rdb" -mtime +7 -delete

echo "‚úÖ Backup completed: $DATE"
```

---

# –ë–ª–æ–∫ 7: –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

## –ì–ª–∞–≤–∞ 13: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 13.1 BuildKit –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```dockerfile
# syntax=docker/dockerfile:1

FROM node:18-alpine AS base
WORKDIR /app

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ mount –¥–ª—è npm
FROM base AS deps
RUN --mount=type=cache,target=/root/.npm \
    npm ci --only=production

FROM base AS build
COPY package*.json ./
RUN --mount=type=cache,target=/root/.npm \
    npm ci
COPY . .
RUN npm run build

FROM base AS runtime
COPY --from=deps /app/node_modules ./node_modules
COPY --from=build /app/dist ./dist
COPY package*.json ./
CMD ["npm", "start"]
```

–°–±–æ—Ä–∫–∞ —Å BuildKit:
```bash
DOCKER_BUILDKIT=1 docker build --target runtime .
```

### 13.2 Distroless –æ–±—Ä–∞–∑—ã

```dockerfile
# Multi-stage –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
FROM golang:1.21-alpine AS builder
WORKDIR /app
COPY . .
RUN CGO_ENABLED=0 go build -o app

FROM gcr.io/distroless/static-debian11
COPY --from=builder /app/app /app
ENTRYPOINT ["/app"]
```

### 13.3 –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

```bash
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \
  aquasec/trivy image myapp:latest

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ CI/CD
docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \
  aquasec/trivy image --exit-code 1 --severity HIGH,CRITICAL myapp:latest
```

### 13.4 –ü–æ–¥–ø–∏—Å—ã–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤

```bash
# Docker Content Trust
export DOCKER_CONTENT_TRUST=1
docker push myapp:latest

# Notary –ø–æ–¥–ø–∏—Å—å
notary -s https://notary.docker.io -d ~/.docker/trust init myapp
notary -s https://notary.docker.io -d ~/.docker/trust publish myapp:latest
```

### 13.5 –°–µ–∫—Ä–µ—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```yaml
version: '3.8'

services:
  api:
    build: .
    environment:
      - DATABASE_URL_FILE=/run/secrets/db_url
      - JWT_SECRET_FILE=/run/secrets/jwt_secret
    secrets:
      - db_url
      - jwt_secret
    user: "1001:1001"  # –ù–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_PASSWORD_FILE=/run/secrets/db_password
    secrets:
      - db_password

secrets:
  db_url:
    file: ./secrets/db_url.txt
  jwt_secret:
    file: ./secrets/jwt_secret.txt
  db_password:
    file: ./secrets/db_password.txt
```

### 13.6 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤

#### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:
```dockerfile
# 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ alpine –±–∞–∑–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤
FROM node:18-alpine

# 2. –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ–µ–≤
RUN apk add --no-cache curl wget \
    && npm ci --only=production \
    && npm cache clean --force \
    && rm -rf /tmp/*

# 3. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
RUN apt-get update \
    && apt-get install -y --no-install-recommends curl \
    && rm -rf /var/lib/apt/lists/* \
    && apt-get clean

# 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .dockerignore
# –°–º. –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã .dockerignore

# 5. Multi-stage builds –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è build –∏ runtime
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM node:18-alpine AS production
WORKDIR /app
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/node_modules ./node_modules
COPY package*.json ./
CMD ["npm", "start"]
```

## –ì–ª–∞–≤–∞ 14: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### 14.1 –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```yaml
# docker-compose.debug.yml
version: '3.8'

services:
  debug:
    image: nicolaka/netshoot
    command: ["sleep", "infinity"]
    network_mode: "container:api"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    cap_add:
      - NET_ADMIN
      - SYS_PTRACE

  debug-standalone:
    image: nicolaka/netshoot
    command: ["sleep", "infinity"]
    networks:
      - backend
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    cap_add:
      - NET_ADMIN
      - SYS_PTRACE
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```bash
# –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose -f docker-compose.yml -f docker-compose.debug.yml up -d debug

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
docker-compose exec debug bash

# –í–Ω—É—Ç—Ä–∏ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
# - tcpdump –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ñ–∏–∫–∞
# - nmap –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–æ–≤
# - curl/wget –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
# - netstat –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
# - iftop –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ç–∏
```

### 14.2 –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run --rm -it --pid container:myapp --cap-add SYS_PTRACE \
  brendangregg/perf-tools

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é htop
docker run --rm -it --pid container:myapp \
  terencehill/htop

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats --format "table {{.Container}}\t{{.CPUPerc}}\t{{.MemUsage}}\t{{.NetIO}}\t{{.BlockIO}}"

# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
docker exec myapp du -sh /*
docker exec myapp df -h

# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec myapp ps aux
docker top myapp
```

### 14.3 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å ELK Stack:
```yaml
version: '3.8'

services:
  app:
    build: .
    logging:
      driver: "fluentd"
      options:
        fluentd-address: fluentd:24224
        tag: "app.{{.Name}}"

  fluentd:
    image: fluentd:v1.16-1
    volumes:
      - ./fluentd/conf:/fluentd/etc
      - ./logs:/var/log/fluentd
    ports:
      - "24224:24224"
    depends_on:
      - elasticsearch

  elasticsearch:
    image: elasticsearch:8.8.0
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms1g -Xmx1g"
    volumes:
      - elasticsearch_data:/usr/share/elasticsearch/data
    ports:
      - "9200:9200"

  kibana:
    image: kibana:8.8.0
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
    ports:
      - "5601:5601"
    depends_on:
      - elasticsearch

volumes:
  elasticsearch_data:
```

#### Fluentd –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (fluentd/conf/fluent.conf):
```xml
<source>
  @type forward
  port 24224
  bind 0.0.0.0
</source>

<match app.**>
  @type elasticsearch
  host elasticsearch
  port 9200
  index_name docker-logs
  type_name _doc
  <buffer>
    flush_interval 10s
  </buffer>
</match>
```

### 14.4 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### Prometheus + Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```yaml
version: '3.8'

services:
  prometheus:
    image: prom/prometheus
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    ports:
      - "9090:9090"
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--web.console.libraries=/etc/prometheus/console_libraries'
      - '--web.console.templates=/etc/prometheus/consoles'
      - '--storage.tsdb.retention.time=200h'
      - '--web.enable-lifecycle'

  grafana:
    image: grafana/grafana
    volumes:
      - grafana_data:/var/lib/grafana
      - ./monitoring/grafana/provisioning:/etc/grafana/provisioning
    environment:
      - GF_SECURITY_ADMIN_USER=admin
      - GF_SECURITY_ADMIN_PASSWORD=admin
      - GF_USERS_ALLOW_SIGN_UP=false
    ports:
      - "3000:3000"

  node-exporter:
    image: prom/node-exporter
    volumes:
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /:/rootfs:ro
    command:
      - '--path.procfs=/host/proc'
      - '--path.sysfs=/host/sys'
      - '--collector.filesystem.ignored-mount-points=^/(sys|proc|dev|host|etc)($|/)'
    ports:
      - "9100:9100"

  cadvisor:
    image: gcr.io/cadvisor/cadvisor
    volumes:
      - /:/rootfs:ro
      - /var/run:/var/run:rw
      - /sys:/sys:ro
      - /var/lib/docker/:/var/lib/docker:ro
    ports:
      - "8080:8080"

volumes:
  prometheus_data:
  grafana_data:
```

### 14.5 –û—Ç–ª–∞–¥–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

```bash
# –ê–Ω–∞–ª–∏–∑ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
docker exec myapp netstat -tlnp
docker exec myapp ss -tlnp

# –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
docker exec myapp tcpdump -i eth0 -n

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–∞–º
docker exec myapp ping postgres
docker exec myapp telnet postgres 5432
docker exec myapp curl -v http://api:3000/health

# –ê–Ω–∞–ª–∏–∑ DNS
docker exec myapp nslookup postgres
docker exec myapp dig postgres

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
docker exec myapp ip addr show
docker exec myapp ip route show

# –ê–Ω–∞–ª–∏–∑ —Å –ø–æ–º–æ—â—å—é netshoot
docker run --rm -it --net container:myapp nicolaka/netshoot
```

### 14.6 –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å volumes

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ volume
docker run --rm -v myapp_data:/data alpine ls -la /data

# –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –≤ volume
docker run --rm -v myapp_data:/data alpine find /data -name "*.log"

# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤ volume
docker run --rm -v myapp_data:/data alpine du -sh /data/*

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ volume
docker run --rm -v myapp_data:/data -v $(pwd):/backup alpine cp -r /data/* /backup/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ volume
docker run --rm -v myapp_data:/data -v $(pwd):/backup alpine cp -r /backup/* /data/

# –û—á–∏—Å—Ç–∫–∞ volume
docker run --rm -v myapp_data:/data alpine sh -c "rm -rf /data/*"
```

### 14.7 –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

#### Node.js –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:
```dockerfile
FROM node:18-alpine

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
RUN npm install -g clinic

WORKDIR /app
COPY package*.json ./
RUN npm ci

COPY . .

# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
# docker exec myapp clinic doctor -- node app.js
# docker exec myapp clinic bubbleprof -- node app.js
# docker exec myapp clinic flame -- node app.js

CMD ["npm", "start"]
```

#### Python –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:
```dockerfile
FROM python:3.11-slim

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
RUN pip install py-spy memory-profiler line-profiler

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
# docker exec myapp py-spy top --pid 1
# docker exec myapp python -m memory_profiler app.py

CMD ["python", "app.py"]
```

### 14.8 –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ production —Å—Ä–µ–¥—ã

#### Health checks –∏ smoke tests:
```bash
#!/bin/bash
# smoke-test.sh

set -e

echo "üîç Running smoke tests..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
curl -f http://localhost/health || exit 1
curl -f http://localhost/api/health || exit 1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec -T postgres pg_isready -U $DB_USER -d $DB_NAME || exit 1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
docker-compose exec -T redis redis-cli ping | grep PONG || exit 1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö endpoints
curl -f -X POST http://localhost/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"test"}' || exit 1

echo "‚úÖ All smoke tests passed!"
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ CI/CD:
```yaml
# .github/workflows/production-tests.yml
name: Production Health Check

on:
  schedule:
    - cron: '*/15 * * * *'  # –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç

jobs:
  health-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Run health checks
        run: |
          curl -f https://api.example.com/health
          curl -f https://example.com/
          
      - name: Run smoke tests
        run: |
          ./scripts/smoke-test.sh
          
      - name: Notify on failure
        if: failure()
        uses: 8398a7/action-slack@v3
        with:
          status: failure
          text: "Production health check failed!"
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
```

---

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞

### –ò–∑—É—á–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –ø–æ –±–ª–æ–∫–∞–º:

**–ë–ª–æ–∫ 1 - –í–≤–µ–¥–µ–Ω–∏–µ –≤ Docker:**
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ó–Ω–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Docker
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Docker

**–ë–ª–æ–∫ 2 - –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å Docker:**
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ä—Ç–∞–º–∏, volumes, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

**–ë–ª–æ–∫ 3 - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö Dockerfile
- ‚úÖ –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤

**–ë–ª–æ–∫ 4 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–µ—Ç—è–º–∏:**
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å volumes
- ‚úÖ –°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ë–ª–æ–∫ 5 - Docker Compose:**
- ‚úÖ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ—Ñ–∏–ª–∏

**–ë–ª–æ–∫ 6 - Production-–≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- ‚úÖ Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë–ª–æ–∫ 7 - –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è:

1. **–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö** - –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
2. **–ò–∑—É—á–∏—Ç–µ Kubernetes** - —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
3. **–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ DevOps –ø—Ä–∞–∫—Ç–∏–∫–∏** - GitOps, Infrastructure as Code
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏** - Docker –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:

- üìö [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker](https://docs.docker.com/)
- üêô [Docker Hub](https://hub.docker.com/) - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–±—Ä–∞–∑–æ–≤
- üí¨ [Docker Community](https://www.docker.com/community/) - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- üõ†Ô∏è [Awesome Docker](https://github.com/veggiemonk/awesome-docker) - –ø–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

**–£–¥–∞—á–∏ –≤ –≤–∞—à–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏ —Å Docker! üê≥**