# Собеседование Backend разработчика: Глубокое понимание микросервисов

## Оглавление
1. [Архитектурные принципы](#1-архитектурные-принципы)
2. [Коммуникация между сервисами](#2-коммуникация-между-сервисами)
3. [Управление данными](#3-управление-данными)
4. [Deployment и DevOps](#4-deployment-и-devops)
5. [Мониторинг и наблюдаемость](#5-мониторинг-и-наблюдаемость)
6. [Безопасность](#6-безопасность)
7. [Паттерны и best practices](#7-паттерны-и-best-practices)
8. [Масштабирование и производительность](#8-масштабирование-и-производительность)
9. [Проблемы и вызовы микросервисов](#9-проблемы-и-вызовы-микросервисов)

---

## 1. Архитектурные принципы

### 1.1 Что такое микросервисная архитектура и чем она отличается от монолитной?
**Углубляющие вопросы:**
1. Какие критерии вы используете для декомпозиции монолита на микросервисы?
2. Как Domain-Driven Design помогает в выделении границ сервисов?
3. Объясните принцип "single responsibility" применительно к микросервисам
4. Какие компромиссы вы принимаете при переходе от монолита к микросервисам?
5. Как вы определяете оптимальный размер микросервиса?

### 1.2 Объясните принципы проектирования микросервисов по Sam Newman
**Углубляющие вопросы:**
1. Что означает "modeled around business domain" на практике?
2. Как обеспечить decoupling и высокую cohesion в микросервисах?
3. Приведите примеры нарушения принципа "hide implementation details"
4. Как принцип "decentralize all the things" влияет на архитектурные решения?
5. Объясните важность принципа "design for failure" с конкретными примерами

### 1.3 Что такое bounded context в контексте микросервисов?
**Углубляющие вопросы:**
1. Как выявить boundaries между различными bounded contexts?
2. Что происходит, когда bounded contexts пересекаются?
3. Как anti-corruption layer помогает изолировать bounded contexts?
4. Приведите пример плохо выделенного bounded context и его последствий
5. Как context mapping помогает в проектировании микросервисов?

### 1.4 Объясните паттерн "Database per Service"
**Углубляющие вопросы:**
1. Какие проблемы возникают при нарушении этого паттерна?
2. Как решать вопрос с shared reference data между сервисами?
3. Что делать с legacy данными при миграции к этому паттерну?
4. Как обеспечить data consistency между сервисами?
5. Какие альтернативы существуют для случаев, когда паттерн не подходит?

### 1.5 В каких случаях микросервисы НЕ подходят?
**Углубляющие вопросы:**
1. Как оценить готовность команды к работе с микросервисами?
2. Какие показатели complexity указывают на преждевременное использование микросервисов?
3. Как определить, что инфраструктура не готова к микросервисам?
4. Что такое "distributed monolith" и как его избежать?
5. Какие альтернативные архитектурные подходы рассматривать вместо микросервисов?

### 1.6 Что такое Conway's Law и как он влияет на архитектуру микросервисов?
**Углубляющие вопросы:**
1. Приведите примеры того, как организационная структура отражается в архитектуре
2. Как "inverse Conway maneuver" может помочь в реорганизации команд?
3. Какие проблемы возникают, когда Conway's Law игнорируется?
4. Как cross-functional команды влияют на дизайн микросервисов?
5. Что такое "team cognitive load" и как его минимизировать?

### 1.7 Объясните концепцию "service mesh"
**Углубляющие вопросы:**
1. Какие проблемы решает service mesh по сравнению с библиотеками?
2. В чем разница между control plane и data plane в service mesh?
3. Как service mesh влияет на производительность и latency?
4. Когда service mesh становится overkill для архитектуры?
5. Сравните популярные реализации service mesh (Istio, Linkerd, Consul Connect)

### 1.8 Что такое API Gateway и какие функции он выполняет?
**Углубляющие вопросы:**
1. Как избежать того, чтобы API Gateway стал единой точкой отказа?
2. Какие паттерны маршрутизации запросов вы знаете?
3. Как реализовать versioning API через Gateway?
4. Что такое Backend for Frontend (BFF) паттерн?
5. Как балансировать между centralized и decentralized подходами в Gateway?

### 1.9 Объясните принципы event-driven архитектуры в микросервисах
**Углубляющие вопросы:**
1. В чем разница между event notification и event-carried state transfer?
2. Как обеспечить event ordering и избежать race conditions?
3. Что такое event sourcing и когда его применять?
4. Как решать проблему duplicate events?
5. Какие стратегии error handling существуют для event-driven систем?

### 1.10 Что такое "strangler fig" паттерн и как его применить для миграции?
**Углубляющие вопросы:**
1. Как определить порядок миграции компонентов монолита?
2. Какие риски несет параллельная работа монолита и микросервисов?
3. Как обеспечить data consistency во время миграции?
4. Что такое "feature toggle" и как он помогает в миграции?
5. Как измерить успешность миграции и принять решение о rollback?

---

## 2. Коммуникация между сервисами

### 2.1 Сравните синхронную и асинхронную коммуникацию в микросервисах
**Углубляющие вопросы:**
1. Какие паттерны помогают минимизировать synchronous calls?
2. Как выбрать между request-response и fire-and-forget messaging?
3. Что такое "temporal coupling" и как его избежать?
4. Как обеспечить idempotency в asynchronous operations?
5. Какие trade-offs между consistency и availability в каждом подходе?

### 2.2 Объясните различия между REST, GraphQL и gRPC для микросервисов
**Углубляющие вопросы:**
1. В каких сценариях gRPC предпочтительнее REST?
2. Как решать проблему over-fetching и under-fetching в каждом подходе?
3. Что такое HTTP/2 multiplexing и как он влияет на производительность?
4. Как обеспечить backward compatibility в каждом протоколе?
5. Какие инструменты для API documentation и testing вы используете?

### 2.3 Как организовать message queuing между микросервисами?
**Углубляющие вопросы:**
1. В чем разница между message queue, topic и event stream?
2. Как выбрать между at-least-once и exactly-once delivery?
3. Что такое dead letter queue и когда его использовать?
4. Как обеспечить message ordering в distributed environment?
5. Сравните Apache Kafka, RabbitMQ и Amazon SQS для разных use cases

### 2.4 Что такое saga pattern и когда его применять?
**Углубляющие вопросы:**
1. В чем разница между choreography и orchestration в saga?
2. Как обрабатывать partial failures в distributed transactions?
3. Что такое compensating actions и как их проектировать?
4. Как обеспечить saga timeout и recovery?
5. Какие альтернативы saga pattern существуют?

### 2.5 Объясните паттерн Circuit Breaker
**Углубляющие вопросы:**
1. Как определить пороги для перехода между состояниями circuit breaker?
2. Что такое bulkhead pattern и как он дополняет circuit breaker?
3. Как реализовать exponential backoff для retry logic?
4. В чем разница между fail-fast и fail-safe стратегиями?
5. Как мониторить и alerting для circuit breaker состояний?

### 2.6 Как реализовать service discovery?
**Углубляющие вопросы:**
1. В чем разница между client-side и server-side discovery?
2. Как обеспечить health checking для service instances?
3. Что такое service registry и какие требования к его availability?
4. Как решать проблему stale service information?
5. Сравните DNS-based и dedicated service discovery решения

### 2.7 Что такое идемпотентность и как ее обеспечить?
**Углубляющие вопросы:**
1. Как реализовать idempotency keys в RESTful API?
2. Что делать с non-idempotent operations в distributed systems?
3. Как TTL влияет на idempotency guarantees?
4. Какие проблемы создает lost idempotency key?
5. Как тестировать idempotency в end-to-end scenarios?

### 2.8 Объясните паттерн Request-Reply через messaging
**Углубляющие вопросы:**
1. Как обеспечить correlation между request и response?
2. Что такое temporary queues и когда их использовать?
3. Как обрабатывать timeouts в асинхронном request-reply?
4. Какие проблемы создает blocking на response?
5. Как реализовать request-reply поверх event streams?

### 2.9 Как обеспечить API versioning в микросервисах?
**Углубляющие вопросы:**
1. Сравните URL versioning, header versioning и content negotiation
2. Что такое semantic versioning для API и как его применять?
3. Как долго поддерживать deprecated API versions?
4. Что такое graceful degradation для API changes?
5. Как автоматизировать testing compatibility между API versions?

### 2.10 Что такое event sourcing и CQRS?
**Углубляющие вопросы:**
1. Как event store отличается от traditional database?
2. Что такое snapshots в event sourcing и когда их создавать?
3. Как обеспечить event schema evolution?
4. В чем проблемы с querying в event-sourced systems?
5. Как реализовать projections для read models в CQRS?

### 2.11 Объясните паттерн Outbox для transactional messaging
**Углубляющие вопросы:**
1. Как outbox pattern решает dual write problem?
2. Что такое Change Data Capture (CDC) и как его использовать?
3. Как обеспечить exactly-once processing с outbox pattern?
4. Какие проблемы создает lag между transactional write и message publishing?
5. Как реализовать outbox pattern с разными типами databases?

### 2.12 Как реализовать streaming communication между сервисами?
**Углубляющие вопросы:**
1. В чем разница между server-sent events, WebSockets и gRPC streaming?
2. Как обеспечить backpressure в streaming scenarios?
3. Что такое windowing в stream processing?
4. Как обрабатывать connection failures в long-lived streams?
5. Какие паттерны для stream aggregation и filtering вы знаете?

---

## 3. Управление данными

### 3.1 Как обеспечить data consistency в распределенной системе?
**Углубляющие вопросы:**
1. Объясните CAP theorem применительно к микросервисам
2. Что такое eventual consistency и как с ней работать?
3. Как реализовать distributed transactions без 2PC?
4. Что такое BASE vs ACID в контексте микросервисов?
5. Как измерить и мониторить consistency lag?

### 3.2 Объясните паттерн Database per Service подробнее
**Углубляющие вопросы:**
1. Как решать cross-service queries без distributed joins?
2. Что делать с foreign key constraints между сервисами?
3. Как обеспечить referential integrity в distributed data?
4. Какие стратегии для data migration между сервисами?
5. Как минимизировать data duplication при соблюдении паттерна?

### 3.3 Что такое event sourcing и какие у него преимущества/недостатки?
**Углубляющие вопросы:**
1. Как handle большие объемы events в event store?
2. Что делать с sensitive data в immutable event log?
3. Как реализовать soft delete в event-sourced system?
4. Какие стратегии для event store backup и recovery?
5. Как debug проблемы в event-sourced applications?

### 3.4 Как реализовать distributed caching?
**Углубляющие вопросы:**
1. Какие cache invalidation strategies подходят для микросервисов?
2. Как решать cache coherency в distributed environment?
3. Что такое cache-aside vs write-through patterns?
4. Как обеспечить cache warming после deployment?
5. Какие метрики для monitoring distributed cache важны?

### 3.5 Объясните CQRS (Command Query Responsibility Segregation)
**Углубляющие вопросы:**
1. Как синхронизировать write и read models?
2. Что делать с eventual consistency между command и query sides?
3. Как handle complex queries в CQRS architecture?
4. Какие проблемы создает multiple read models?
5. Когда CQRS становится overkill?

### 3.6 Как обеспечить data privacy и GDPR compliance?
**Углубляющие вопросы:**
1. Как реализовать "right to be forgotten" в distributed systems?
2. Что такое data lineage и как его отслеживать?
3. Как обеспечить data minimization принцип?
4. Какие стратегии для cross-border data transfer?
5. Как audit data access в микросервисной архитектуре?

### 3.7 Что такое polyglot persistence и когда его применять?
**Углубляющие вопросы:**
1. Как выбрать подходящий тип database для каждого сервиса?
2. Какие операционные сложности создает polyglot persistence?
3. Как обеспечить consistent backup strategy для разных DB типов?
4. Что делать с cross-technology data synchronization?
5. Как минимизировать learning curve для команды?

### 3.8 Как реализовать data synchronization между сервисами?
**Углубляющие вопросы:**
1. В чем разница между push и pull-based synchronization?
2. Как handle conflicts в bi-directional sync?
3. Что такое vector clocks и когда их использовать?
4. Как обеспечить sync reliability и retry logic?
5. Какие паттерны для batch vs real-time synchronization?

### 3.9 Объясните паттерн Shared Database Anti-pattern
**Углубляющие вопросы:**
1. Какие проблемы создает shared database?
2. Как migrate от shared database к database per service?
3. Что делать с legacy applications, которые требуют shared access?
4. Как обеспечить data consistency во время migration?
5. Какие промежуточные паттерны помогают в переходе?

### 3.10 Как организовать data backup и disaster recovery?
**Углубляющие вопросы:**
1. Как обеспечить consistent backup across multiple services?
2. Что такое RTO и RPO в контексте микросервисов?
3. Как тестировать disaster recovery procedures?
4. Какие стратегии для cross-region data replication?
5. Как handle data corruption в distributed backup systems?

---

## 4. Deployment и DevOps

### 4.1 Объясните принципы CI/CD для микросервисов
**Углубляющие вопросы:**
1. Как организовать independent deployment pipelines для каждого сервиса?
2. Что такое deployment dependencies и как их минимизировать?
3. Как обеспечить automated testing в distributed environment?
4. Какие стратегии для database migrations в CI/CD?
5. Как handle rollback scenarios для dependent services?

### 4.2 Что такое контейнеризация и как она помогает микросервисам?
**Углубляющие вопросы:**
1. В чем разница между containerization и virtualization для микросервисов?
2. Как optimize Docker images для production использования?
3. Что такое multi-stage builds и зачем они нужны?
4. Как handle secrets и sensitive data в containers?
5. Какие security best practices для container images?

### 4.3 Объясните Kubernetes и его роль для микросервисов
**Углубляющие вопросы:**
1. Как Kubernetes service discovery работает с микросервисами?
2. Что такое ingress controller и как его настроить?
3. Как использовать ConfigMaps и Secrets для configuration management?
4. Что такое horizontal pod autoscaling и как его настроить?
5. Как handle stateful services в Kubernetes?

### 4.4 Что такое blue-green deployment и canary releases?
**Углубляющие вопросы:**
1. Какие trade-offs между blue-green и canary strategies?
2. Как обеспечить database compatibility для blue-green deployments?
3. Что такое feature flags и как они помогают в deployments?
4. Как measure success metrics для canary releases?
5. Как handle rollback в каждой deployment strategy?

### 4.5 Как организовать configuration management?
**Углубляющие вопросы:**
1. В чем разница между build-time и runtime configuration?
2. Как обеспечить configuration versioning и rollback?
3. Что такое configuration drift и как его избежать?
4. Как handle sensitive configuration data?
5. Какие паттерны для environment-specific configuration?

### 4.6 Объясните Infrastructure as Code (IaC)
**Углубляющие вопросы:**
1. Сравните declarative vs imperative подходы в IaC
2. Как обеспечить IaC testing и validation?
3. Что такое infrastructure drift и как его detect?
4. Как organize IaC code для multiple environments?
5. Какие стратегии для IaC versioning и change management?

### 4.7 Что такое service mesh и как его deploy?
**Углубляющие вопросы:**
1. Как service mesh влияет на deployment complexity?
2. Что такое sidecar proxy pattern?
3. Как monitor service mesh performance impact?
4. Какие challenges с service mesh upgrades?
5. Как troubleshoot service mesh networking issues?

### 4.8 Как обеспечить zero-downtime deployments?
**Углубляющие вопросы:**
1. Что такое rolling updates и их limitations?
2. Как handle database schema changes без downtime?
3. Что делать с long-running operations во время deployment?
4. Как обеспечить backward compatibility?
5. Какие health check strategies для zero-downtime?

### 4.9 Объясните паттерн Immutable Infrastructure
**Углубляющие вопросы:**
1. Какие преимущества immutable deployments?
2. Как handle persistent data в immutable infrastructure?
3. Что такое phoenix servers и как их implement?
4. Как optimize build times для immutable artifacts?
5. Какие challenges с debugging в immutable environment?

### 4.10 Как организовать multi-environment deployment strategy?
**Углубляющие вопросы:**
1. Как обеспечить environment parity?
2. Что такое promotion pipeline между environments?
3. Как handle environment-specific dependencies?
4. Какие стратегии для data seeding в test environments?
5. Как minimize environment configuration drift?

---

## 5. Мониторинг и наблюдаемость

### 5.1 Объясните three pillars of observability
**Углубляющие вопросы:**
1. Как metrics, logs и traces дополняют друг друга?
2. Что такое distributed tracing и почему он критичен?
3. Как выбрать правильные metrics для business и technical monitoring?
4. Какие challenges с log aggregation в distributed systems?
5. Как correlate данные между всеми тремя pillars?

### 5.2 Как реализовать distributed tracing?
**Углубляющие вопросы:**
1. Что такое trace context propagation?
2. Как handle sampling в high-throughput systems?
3. Что делать с missing spans в distributed trace?
4. Как measure trace completeness и accuracy?
5. Сравните OpenTelemetry, Jaeger и Zipkin

### 5.3 Какие метрики важны для микросервисов?
**Углубляющие вопросы:**
1. Объясните RED metrics (Rate, Errors, Duration)
2. Что такое USE metrics (Utilization, Saturation, Errors)?
3. Как implement custom business metrics?
4. Что такое SLI/SLO/SLA и как их define?
5. Как avoid metric explosion в microservices environment?

### 5.4 Как организовать centralized logging?
**Углубляющие вопросы:**
1. Какие log levels и formats стандартизировать?
2. Как ensure log correlation across services?
3. Что такое structured logging и его преимущества?
4. Как handle log retention и storage costs?
5. Какие security considerations для centralized logs?

### 5.5 Что такое health checks и как их implement?
**Углубляющие вопросы:**
1. В чем разница между liveness и readiness probes?
2. Как implement deep health checks без performance impact?
3. Что такое circuit breaker integration с health checks?
4. Как handle cascading health check failures?
5. Какие patterns для graceful degradation based на health status?

### 5.6 Как настроить alerting для микросервисов?
**Углубляющие вопросы:**
1. Как avoid alert fatigue в distributed systems?
2. Что такое alert correlation и grouping?
3. Как implement escalation policies?
4. Какие strategies для actionable alerts?
5. Как measure alert effectiveness и MTTD/MTTR?

### 5.7 Объясните концепцию Application Performance Monitoring (APM)
**Углубляющие вопросы:**
1. Как APM отличается от infrastructure monitoring?
2. Что такое synthetic monitoring для microservices?
3. Как implement user experience monitoring?
4. Какие challenges с APM в containerized environments?
5. Как correlate APM data с business metrics?

### 5.8 Что такое chaos engineering и как его применять?
**Углубляющие вопросы:**
1. Как design chaos experiments для microservices?
2. Что такое blast radius и как его control?
3. Как measure system resilience через chaos testing?
4. Какие safety mechanisms для chaos experiments?
5. Как integrate chaos engineering в CI/CD pipeline?

---

## 6. Безопасность

### 6.1 Как обеспечить authentication в микросервисной архитектуре?
**Углубляющие вопросы:**
1. В чем разница между centralized и decentralized authentication?
2. Что такое token propagation между services?
3. Как handle token refresh в distributed environment?
4. Какие security risks с shared authentication state?
5. Как implement multi-factor authentication across services?

### 6.2 Объясните OAuth 2.0 и JWT в контексте микросервисов
**Углубляющие вопросы:**
1. Какие OAuth flows подходят для service-to-service communication?
2. Что такое JWT claims и как их validate?
3. Как handle JWT expiration и revocation?
4. Какие security considerations для JWT storage?
5. В чем проблемы stateless tokens в distributed systems?

### 6.3 Как реализовать authorization между сервисами?
**Углубляющие вопросы:**
1. Что такое RBAC vs ABAC для микросервисов?
2. Как implement fine-grained permissions?
3. Что делать с authorization policies distribution?
4. Как handle authorization caching и invalidation?
5. Какие patterns для context-aware authorization?

### 6.4 Что такое zero trust security model?
**Углубляющие вопросы:**
1. Как implement mutual TLS между services?
2. Что такое service identity и как его manage?
3. Как ensure network segmentation в microservices?
4. Какие tools для policy enforcement?
5. Как monitor и audit zero trust implementation?

### 6.5 Как обеспечить secure communication?
**Углубляющие вопросы:**
1. Когда использовать TLS vs application-level encryption?
2. Что такое certificate management в distributed environment?
3. Как handle certificate rotation без downtime?
4. Какие considerations для internal vs external communication?
5. Как implement end-to-end encryption through multiple services?

### 6.6 Объясните secrets management для микросервисов
**Углубляющие вопросы:**
1. Как distribute secrets без storing их в code/config?
2. Что такое secret rotation и как его automate?
3. Как handle secrets в containerized environments?
4. Какие patterns для secret sharing между services?
5. Как audit secret access и usage?

### 6.7 Как защититься от common security vulnerabilities?
**Углубляющие вопросы:**
1. Что такое OWASP Top 10 для API security?
2. Как prevent injection attacks в microservices?
3. Что делать с insecure direct object references?
4. Как implement proper input validation?
5. Какие strategies для security testing в CI/CD?

### 6.8 Что такое API security и rate limiting?
**Углубляющие вопросы:**
1. Как implement distributed rate limiting?
2. Что такое API quotas vs throttling?
3. Как handle rate limiting для different user tiers?
4. Какие strategies для DDoS protection?
5. Как balance security и user experience?

---

## 7. Паттерны и best practices

### 7.1 Объясните паттерн Bulkhead
**Углубляющие вопросы:**
1. Как implement resource isolation между components?
2. Что такое thread pool bulkheads?
3. Как apply bulkhead pattern к database connections?
4. Какие trade-offs между isolation и resource utilization?
5. Как monitor bulkhead effectiveness?

### 7.2 Что такое паттерн Timeout и Retry?
**Углубляющие вопросы:**
1. Как determine optimal timeout values?
2. Что такое exponential backoff with jitter?
3. Как avoid retry storms в distributed systems?
4. Когда НЕ нужно retry operations?
5. Как implement circuit breaker integration с retry logic?

### 7.3 Объясните паттерн Graceful Degradation
**Углубляющие вопросы:**
1. Как identify critical vs non-critical functionality?
2. Что такое fallback mechanisms и как их design?
3. Как communicate degraded state пользователям?
4. Какие metrics для measuring degradation impact?
5. Как automatically recover от degraded state?

### 7.4 Что такое Event Storming и как его применять?
**Углубляющие вопросы:**
1. Как facilitate Event Storming sessions?
2. Что такое domain events vs integration events?
3. Как identify service boundaries через Event Storming?
4. Какие anti-patterns в Event Storming?
5. Как transition от Event Storming к implementation?

### 7.5 Объясните паттерн Backend for Frontend (BFF)
**Углубляющие вопросы:**
1. Когда BFF становится anti-pattern?
2. Как handle multiple client types с BFF?
3. Что делать с shared logic между BFFs?
4. Как ensure BFF doesn't become a bottleneck?
5. Какие deployment strategies для BFF services?

### 7.6 Что такое паттерн Aggregator?
**Углубляющие вопросы:**
1. Как handle partial failures в aggregation?
2. Что делать с different response times от services?
3. Как implement caching в aggregator services?
4. Какие strategies для aggregator scalability?
5. Как avoid creating distributed monolith с aggregators?

### 7.7 Объясните паттерн Command Query Responsibility Segregation (CQRS)
**Углубляющие вопросы:**
1. Как separate command и query models effectively?
2. Что делать с eventual consistency между write и read sides?
3. Как handle complex reporting requirements в CQRS?
4. Какие challenges с CQRS testing и debugging?
5. Когда CQRS adds unnecessary complexity?

### 7.8 Что такое паттерн Competing Consumers?
**Углубляющие вопросы:**
1. Как ensure message processing order с competing consumers?
2. Что делать с poison messages?
3. Как implement dynamic scaling для consumers?
4. Какие strategies для load balancing between consumers?
5. Как handle consumer failures и message reprocessing?

### 7.9 Объясните паттерн Claim Check
**Углубляющие вопросы:**
1. Когда использовать claim check vs direct message passing?
2. Как handle claim check storage scalability?
3. Что делать с claim check expiration?
4. Какие security considerations для claim check data?
5. Как ensure claim check availability?

### 7.10 Что такое паттерн Pipes and Filters?
**Углубляющие вопросы:**
1. Как design filter interfaces для reusability?
2. Что делать с error handling в pipeline?
3. Как implement parallel processing в pipes?
4. Какие strategies для pipeline monitoring?
5. Как handle different data formats между filters?

### 7.11 Объясните паттерн Event Sourcing подробнее
**Углубляющие вопросы:**
1. Как handle event schema evolution?
2. Что такое event upcasting и когда его применять?
3. Как implement event store snapshots?
4. Какие strategies для event replay performance?
5. Как debug issues в event-sourced systems?

### 7.12 Что такое паттерн Transactional Outbox?
**Углубляющие вопросы:**
1. Как ensure exactly-once delivery с outbox pattern?
2. Что делать с outbox table growth?
3. Как handle outbox processing failures?
4. Какие strategies для outbox cleanup?
5. Как monitor outbox pattern effectiveness?

---

## 8. Масштабирование и производительность

### 8.1 Объясните горизонтальное и вертикальное масштабирование
**Углубляющие вопросы:**
1. Как determine когда scale up vs scale out?
2. Что такое elasticity в cloud environments?
3. Какие bottlenecks prevent horizontal scaling?
4. Как measure scaling effectiveness?
5. Что делать с stateful services при horizontal scaling?

### 8.2 Как реализовать load balancing для микросервисов?
**Углубляющие вопросы:**
1. Сравните round-robin, least connections и weighted algorithms
2. Что такое sticky sessions и их impact на microservices?
3. Как implement health-aware load balancing?
4. Что делать с uneven load distribution?
5. Как handle load balancer as single point of failure?

### 8.3 Что такое auto-scaling и как его настроить?
**Углубляющие вопросы:**
1. Какие metrics использовать для scaling decisions?
2. Как avoid thrashing в auto-scaling?
3. Что такое predictive scaling vs reactive scaling?
4. Как handle cold starts при scaling out?
5. Какие strategies для cost optimization с auto-scaling?

### 8.4 Объясните caching strategies для микросервисов
**Углубляющие вопросы:**
1. Где размещать cache layers в microservices architecture?
2. Как handle cache invalidation в distributed environment?
3. Что такое cache warming strategies?
4. Как prevent cache stampede problems?
5. Какие patterns для multi-level caching?

### 8.5 Как оптимизировать database performance?
**Углубляющие вопросы:**
1. Что такое database sharding и его trade-offs?
2. Как implement read replicas для scaling reads?
3. Какие strategies для database connection pooling?
4. Что делать с hot spots в distributed databases?
5. Как measure и optimize database query performance?

### 8.6 Что такое Content Delivery Networks (CDN) для APIs?
**Углубляющие вопросы:**
1. Какие API responses можно cache в CDN?
2. Как handle dynamic content с CDN caching?
3. Что такое edge computing для microservices?
4. Как implement cache invalidation strategies?
5. Какие challenges с CDN для personalized content?

### 8.7 Объясните connection pooling и resource management
**Углубляющие вопросы:**
1. Как optimize connection pool sizes?
2. Что делать с connection leaks?
3. Как handle connection timeouts и retries?
4. Какие strategies для resource cleanup?
5. Как monitor connection pool health?

### 8.8 Что такое batch processing vs stream processing?
**Углубляющие вопросы:**
1. Когда выбирать batch vs stream processing?
2. Как implement micro-batching strategies?
3. Что такое lambda architecture?
4. Как handle late-arriving data в stream processing?
5. Какие patterns для exactly-once processing?

### 8.9 Как оптимизировать network performance?
**Углубляющие вопросы:**
1. Что такое protocol optimization (HTTP/2, gRPC)?
2. Как minimize network round trips?
3. Что делать с network latency between services?
4. Как implement request batching?
5. Какие strategies для network-aware service placement?

### 8.10 Объясните performance testing для микросервисов
**Углубляющие вопросы:**
1. Как design realistic load testing scenarios?
2. Что такое chaos testing для performance?
3. Как test individual services vs end-to-end performance?
4. Какие metrics важны для performance testing?
5. Как interpret performance test results?

---

## 9. Проблемы и вызовы микросервисов

### 9.1 Объясните проблему распределенных транзакций
**Углубляющие вопросы:**
1. Почему 2-phase commit не подходит для микросервисов?
2. Как handle partial failures в distributed operations?
3. Что такое compensation patterns и как их implement?
4. Как ensure data consistency без distributed transactions?
5. Какие альтернативы distributed transactions существуют?

### 9.2 Что такое network latency и как с ней бороться?
**Углубляющие вопросы:**
1. Как measure и monitor network latency между services?
2. Что такое chatty interfaces и как их избежать?
3. Как implement request batching для reducing calls?
4. Какие strategies для asynchronous processing?
5. Как design APIs для minimizing network overhead?

### 9.3 Объясните проблему cascading failures
**Углубляющие вопросы:**
1. Как prevent failure propagation между services?
2. Что такое bulkhead pattern для isolation?
3. Как implement proper timeout и circuit breaker strategies?
4. Что делать с dependency chains?
5. Как design for graceful degradation?

### 9.4 Какие сложности с debugging distributed systems?
**Углубляющие вопросы:**
1. Как trace requests across multiple services?
2. Что делать с missing logs или incomplete traces?
3. Как correlate events между different services?
4. Какие tools для distributed debugging?
5. Как reproduce issues в distributed environment?

### 9.5 Что такое eventual consistency и её проблемы?
**Углубляющие вопросы:**
1. Как explain eventual consistency пользователям?
2. Что делать с conflicting updates?
3. Как measure consistency lag?
4. Какие patterns для handling inconsistent reads?
5. Как design UX для eventually consistent systems?

### 9.6 Объясните операционную сложность микросервисов
**Углубляющие вопросы:**
1. Как manage множество deployment pipelines?
2. Что делать с service discovery complexity?
3. Как handle configuration management для many services?
4. Какие challenges с monitoring и alerting?
5. Как minimize operational overhead?

### 9.7 Какие проблемы создает distributed state management?
**Углубляющие вопросы:**
1. Как handle shared state между services?
2. Что делать с state synchronization?
3. Как implement distributed locks safely?
4. Какие patterns для stateful service coordination?
5. Как avoid distributed state when possible?

### 9.8 Что такое data consistency challenges?
**Углубляющие вопросы:**
1. Как handle referential integrity across services?
2. Что делать с orphaned data?
3. Как implement data cleanup strategies?
4. Какие patterns для cross-service data validation?
5. Как measure и monitor data consistency?

### 9.9 Объясните testing complexity в микросервисах
**Углубляющие вопросы:**
1. Как test service interactions effectively?
2. Что такое contract testing и когда его использовать?
3. Как handle test data management?
4. Какие strategies для integration testing?
5. Как balance unit tests vs integration tests?

### 9.10 Какие organizational challenges создают микросервисы?
**Углубляющие вопросы:**
1. Как organize teams вокруг microservices?
2. Что делать с knowledge silos?
3. Как ensure cross-team communication?
4. Какие challenges с code sharing?
5. Как handle service ownership и responsibilities?

### 9.11 Что такое distributed monolith и как его избежать?
**Углубляющие вопросы:**
1. Какие признаки distributed monolith?
2. Как refactor distributed monolith?
3. Что делать с tight coupling между services?
4. Как ensure proper service boundaries?
5. Какие patterns для loose coupling?

### 9.12 Объясните performance overhead микросервисов
**Углубляющие вопросы:**
1. Как measure performance impact от network calls?
2. Что делать с serialization/deserialization overhead?
3. Как optimize inter-service communication?
4. Какие trade-offs между performance и modularity?
5. Когда microservices performance становится проблемой?

### 9.13 Какие проблемы с data migration в микросервисах?
**Углубляющие вопросы:**
1. Как migrate data при service decomposition?
2. Что делать с schema evolution?
3. Как handle backward compatibility?
4. Какие strategies для zero-downtime migrations?
5. Как validate data migration success?

### 9.14 Что такое vendor lock-in risks?
**Углубляющие вопросы:**
1. Как minimize cloud vendor dependencies?
2. Что делать с proprietary service mesh solutions?
3. Как ensure portability между environments?
4. Какие strategies для vendor-agnostic design?
5. Как balance convenience и vendor independence?

### 9.15 Объясните security complexity в распределенных системах
**Углубляющие вопросы:**
1. Как secure inter-service communication?
2. Что делать с credential management?
3. Как implement zero-trust security?
4. Какие challenges с audit и compliance?
5. Как handle security updates across services?

### 9.16 Какие проблемы с service versioning?
**Углубляющие вопросы:**
1. Как handle breaking changes в service APIs?
2. Что делать с version compatibility matrix?
3. Как implement gradual rollouts?
4. Какие strategies для deprecating old versions?
5. Как coordinate версioning между dependent services?

### 9.17 Что такое resource utilization challenges?
**Углубляющие вопросы:**
1. Как optimize resource allocation для small services?
2. Что делать с resource waste от overhead?
3. Как implement efficient auto-scaling?
4. Какие patterns для resource sharing?
5. Как balance isolation и efficiency?

### 9.18 Объясните monitoring complexity
**Углубляющие вопросы:**
1. Как correlate metrics across services?
2. Что делать с metric explosion?
3. Как implement effective alerting?
4. Какие challenges с distributed tracing?
5. Как ensure monitoring doesn't impact performance?

### 9.19 Какие проблемы с disaster recovery?
**Углубляющие вопросы:**
1. Как coordinate recovery across services?
2. Что делать с partial system failures?
3. Как implement cross-region failover?
4. Какие strategies для data consistency during recovery?
5. Как test disaster recovery procedures?

### 9.20 Что делать когда микросервисы становятся слишком сложными?
**Углубляющие вопросы:**
1. Как recognize когда complexity outweighs benefits?
2. Что такое service consolidation strategies?
3. Как migrate обратно к monolith если нужно?
4. Какие intermediate architectures рассмотреть?
5. Как make informed decisions о architectural changes?

---

## Заключение

Этот список вопросов покрывает все основные аспекты работы с микросервисами - от базовых архитектурных принципов до сложных проблем production-ready систем. Каждый блок содержит как теоретические концепции, так и практические вопросы, которые помогут оценить реальный опыт кандидата.

**Рекомендации по использованию:**
- Не обязательно задавать все вопросы - выберите наиболее релевантные для вашей позиции
- Начинайте с базовых концепций и углубляйтесь в зависимости от ответов
- Обращайте внимание не только на знание паттернов, но и на понимание их применимости
- Просите конкретные примеры из опыта кандидата
- Оценивайте способность видеть trade-offs и ограничения решений