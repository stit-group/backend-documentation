# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º

## 1. üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–µ–π—Å: –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è e-commerce –º–æ–Ω–æ–ª–∏—Ç–∞

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**

**1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ bounded contexts (DDD):**
- **User Management**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ—Ñ–∏–ª–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Product Catalog**: —Ç–æ–≤–∞—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–∏—Å–∫
- **Shopping Cart**: –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫ (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- **Order Management**: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
- **Payment Processing**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- **Inventory**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥—Å–∫–∏–º–∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏
- **Notification**: email/SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**2. –ü—Ä–∏–º–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:**

```javascript
// User Service - –≤–ª–∞–¥–µ–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
{
  userId: "123",
  email: "user@example.com",
  profile: { name: "John", address: "..." }
}

// Order Service - —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
{
  orderId: "ord-456",
  userId: "123", // —Å—Å—ã–ª–∫–∞, –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
  items: [{ productId: "prod-789", quantity: 2 }],
  status: "pending"
}
```

**3. –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **Database per service** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–≤–æ—é –ë–î
- **Service ownership** - –∫–æ–º–∞–Ω–¥–∞ –≤–ª–∞–¥–µ–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–º –æ—Ç –∫–æ–¥–∞ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **Business capabilities** - —Å–µ—Ä–≤–∏—Å—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –≤–æ–∫—Ä—É–≥ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–π

**–£–≥–ª—É–±–ª—è—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã:**

**Q: –ì—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É User Service –∏ Order Service?**
A: User Service —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π. Order Service —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∑–∞–∫–∞–∑–∞. –°–∫–∏–¥–∫–∏ - –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º Promotion Service, –∫–æ—Ç–æ—Ä—ã–π —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞—Å—á–µ—Ç–µ —Ü–µ–Ω—ã –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ API –∏–ª–∏ —Å–æ–±—ã—Ç–∏—è.

**Q: –ö–∞–∫ Order Service –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?**
```javascript
// –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
const getUserData = async (userId) => {
  const cached = await redis.get(`user:${userId}`);
  if (cached) return JSON.parse(cached);
  
  const userData = await userService.getUser(userId);
  await redis.setex(`user:${userId}`, 300, JSON.stringify(userData));
  return userData;
};

// –í–∞—Ä–∏–∞–Ω—Ç 2: Event-driven —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è
// User Service –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
// Order Service –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ
```

---

## 2. üîÑ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ö–µ–π—Å: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ 5 —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç latency
**–†–µ—à–µ–Ω–∏—è:**

**1. API Gateway —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏:**
```javascript
// –î–æ: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ 5 √ó 200ms = 1000ms
const product = await catalogService.getProduct(id);
const reviews = await reviewService.getReviews(id);
const inventory = await inventoryService.getStock(id);
const pricing = await pricingService.getPrice(id);
const recommendations = await mlService.getRecommendations(id);

// –ü–æ—Å–ª–µ: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ = max(200ms) = 200ms
const [product, reviews, inventory, pricing, recommendations] = 
  await Promise.all([
    catalogService.getProduct(id),
    reviewService.getReviews(id),
    inventoryService.getStock(id),
    pricingService.getPrice(id),
    mlService.getRecommendations(id)
  ]);
```

**2. BFF (Backend for Frontend) pattern:**
```javascript
// Product Page BFF - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
app.get('/api/product-page/:id', async (req, res) => {
  const productId = req.params.id;
  
  try {
    const [product, inventory, pricing] = await Promise.all([
      catalogService.getProduct(productId),
      inventoryService.getStock(productId),
      pricingService.getPrice(productId)
    ]);
    
    // Aggregated response –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
    res.json({
      product: { ...product, inStock: inventory.quantity > 0 },
      price: pricing.currentPrice,
      available: inventory.quantity
    });
  } catch (error) {
    // Graceful degradation
    res.json({ product: await catalogService.getProduct(productId) });
  }
});
```

**Q: –ß—Ç–æ –µ—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω?**
```javascript
// Circuit Breaker pattern
const CircuitBreaker = require('opossum');

const reviewsBreaker = new CircuitBreaker(reviewService.getReviews, {
  timeout: 3000,
  errorThresholdPercentage: 50,
  resetTimeout: 30000
});

reviewsBreaker.fallback(() => ({ reviews: [], message: 'Reviews temporarily unavailable' }));
```

---

## 3. üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

### –ö–µ–π—Å: –û—Ç—á–µ—Ç "–¢–û–ü-10 —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –≤—ã—Ä—É—á–∫–µ"

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º
**–†–µ—à–µ–Ω–∏—è:**

**1. CQRS + Read Model:**
```javascript
// Event handlers —Å–æ–∑–¥–∞—é—Ç read model –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
class SalesReportProjection {
  async handleOrderCompleted(event) {
    await this.db.query(`
      INSERT INTO sales_summary (product_id, region, revenue, order_date)
      VALUES (?, ?, ?, ?)
      ON DUPLICATE KEY UPDATE revenue = revenue + VALUES(revenue)
    `, [event.productId, event.userRegion, event.amount, event.date]);
  }
  
  async getTopProducts(region, dateFrom, dateTo) {
    return this.db.query(`
      SELECT product_id, SUM(revenue) as total_revenue
      FROM sales_summary 
      WHERE region = ? AND order_date BETWEEN ? AND ?
      GROUP BY product_id
      ORDER BY total_revenue DESC
      LIMIT 10
    `, [region, dateFrom, dateTo]);
  }
}
```

**2. Event Sourcing –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:**
```javascript
// –°–æ–±—ã—Ç–∏—è –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
const events = [
  { type: 'OrderCreated', productId: 'p1', amount: 100, region: 'EU' },
  { type: 'OrderCompleted', orderId: 'o1', completedAt: '2024-01-15' },
  { type: 'OrderCancelled', orderId: 'o2', reason: 'user_request' }
];

// Rebuild –ø—Ä–æ–µ–∫—Ü–∏–∏ –∏–∑ —Å–æ–±—ã—Ç–∏–π
const rebuildSalesReport = async () => {
  const projection = new SalesReportProjection();
  const events = await eventStore.getAllEvents();
  
  for (const event of events) {
    await projection.handle(event);
  }
};
```

**Q: GDPR –∏ –ø—Ä–∞–≤–æ –Ω–∞ –∑–∞–±–≤–µ–Ω–∏–µ?**
```javascript
// Crypto-shredding: —à–∏—Ñ—Ä—É–µ–º PII –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–ª—é—á–æ–º –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const encryptUserData = (userData, userKey) => encrypt(userData, userKey);

// –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–¥–∞–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∫–ª—é—á
const forgetUser = async (userId) => {
  await keyStore.delete(`user_key_${userId}`);
  // –°–æ–±—ã—Ç–∏—è –æ—Å—Ç–∞—é—Ç—Å—è, –Ω–æ PII –Ω–µ—á–∏—Ç–∞–µ–º–∞ –±–µ–∑ –∫–ª—é—á–∞
};
```

---

## 4. üöÄ DevOps –∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç

### –ö–µ–π—Å: Production incident —Å Payment Service

**Immediate response (–ø–µ—Ä–≤—ã–µ 5 –º–∏–Ω—É—Ç):**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoints
curl https://payment-service/health
curl https://order-service/health

# 2. –ë—ã—Å—Ç—Ä—ã–π rollback –µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ
kubectl rollout undo deployment/payment-service

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å distributed traces
# Jaeger/Zipkin: –Ω–∞–π—Ç–∏ traces —Å –≤—ã—Å–æ–∫–∏–º latency
```

**Root cause analysis:**
```javascript
// –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã: –∏–∑–º–µ–Ω–∏–ª—Å—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç API
// Payment Service v2 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ –ø–æ–ª–µ
{
  "status": "completed",
  "transactionId": "tx123",
  "processingTime": 250  // –Ω–æ–≤–æ–µ –ø–æ–ª–µ
}

// Order Service –æ–∂–∏–¥–∞–µ—Ç —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ –ø–∞–¥–∞–µ—Ç
const result = await paymentService.processPayment(data);
console.log(result.transaction_id); // undefined! –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è transactionId
```

**Prevention strategies:**
```javascript
// 1. Contract testing —Å Pact
describe('Payment Service Contract', () => {
  it('should return payment result', async () => {
    await provider
      .given('payment is processed')
      .uponReceiving('a payment request')
      .withRequest({ method: 'POST', path: '/payments' })
      .willRespondWith({
        status: 200,
        body: { status: 'completed', transaction_id: Matchers.string() }
      });
  });
});

// 2. Canary deployment
apiVersion: argoproj.io/v1alpha1
kind: Rollout
spec:
  strategy:
    canary:
      steps:
      - setWeight: 10
      - pause: {duration: 60s}
      - setWeight: 50
      - pause: {duration: 300s}
```

---

## 5. üìà Monitoring –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

### –ö–µ–π—Å: –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –≤—ã—Å–æ–∫–∏–π)

**Distributed tracing analysis:**
```javascript
// –ü—Ä–∏–º–µ—Ä –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ trace
{
  "traceId": "abc123",
  "spans": [
    { "service": "api-gateway", "duration": 2000, "operation": "GET /product/123" },
    { "service": "catalog", "duration": 50, "operation": "get_product" },
    { "service": "pricing", "duration": 1900, "operation": "calculate_price" }, // –ø—Ä–æ–±–ª–µ–º–∞!
    { "service": "inventory", "duration": 30, "operation": "check_stock" }
  ]
}
```

**Metrics –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:**
```javascript
// Custom metrics –≤ –∫–æ–¥–µ
const priceCalculationTimer = prometheus.register.getSingleMetric('price_calculation_duration');

app.post('/calculate-price', async (req, res) => {
  const timer = priceCalculationTimer.startTimer();
  
  try {
    const price = await complexPriceCalculation(req.body);
    timer({ status: 'success' });
    res.json({ price });
  } catch (error) {
    timer({ status: 'error' });
    throw error;
  }
});

// Alerting –ø—Ä–∞–≤–∏–ª–∞
groups:
- name: performance
  rules:
  - alert: HighLatencyP99
    expr: histogram_quantile(0.99, price_calculation_duration) > 1000
    for: 2m
    annotations:
      summary: "Price calculation P99 latency is high"
```

**SLI/SLO –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**
```yaml
# SLI: 99% –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ 500ms
# SLO: 99.9% uptime –∑–∞ –º–µ—Å—è—Ü
# Error budget: 0.1% = ~43 –º–∏–Ω—É—Ç—ã downtime –≤ –º–µ—Å—è—Ü

apiVersion: sloth.slok.dev/v1
kind: PrometheusServiceLevel
metadata:
  name: payment-service-slo
spec:
  slis:
    - name: "requests-availability"
      query: |
        sum(rate(http_requests_total{job="payment-service", code!~"5.."}[5m])) /
        sum(rate(http_requests_total{job="payment-service"}[5m]))
  objectives:
    - name: "99.9-availability"
      target: 0.999
```

---

## 6. üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö–µ–π—Å: API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

**OAuth 2.0 Client Credentials flow:**
```javascript
// 1. –ü–∞—Ä—Ç–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω
POST /oauth/token
{
  "grant_type": "client_credentials",
  "client_id": "partner_a_client",
  "client_secret": "secret123",
  "scope": "orders:create"
}

// 2. JWT —Å claims –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
{
  "sub": "partner_a",
  "scope": "orders:create",
  "partner_id": "partner_a",
  "allowed_users": ["user123", "user456"] // —Ç–æ–ª—å–∫–æ —ç—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
}
```

**Service-to-service –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
```javascript
// Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
const authorizePartner = (req, res, next) => {
  const token = req.headers.authorization?.split(' ')[1];
  const decoded = jwt.verify(token, process.env.JWT_SECRET);
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–∞—Ä—Ç–Ω–µ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  if (!decoded.allowed_users.includes(req.body.userId)) {
    return res.status(403).json({ error: 'User not allowed for this partner' });
  }
  
  req.partner = decoded;
  next();
};

app.post('/orders', authorizePartner, async (req, res) => {
  const order = await createOrder({
    ...req.body,
    partnerId: req.partner.partner_id
  });
  
  // Audit log
  logger.info('Order created by partner', {
    partnerId: req.partner.partner_id,
    orderId: order.id,
    userId: req.body.userId
  });
  
  res.json(order);
});
```

---

## 7. ‚ö° –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–µ–π—Å: Viral growth (—Ç—Ä–∞—Ñ–∏–∫ –≤—ã—Ä–æ—Å –≤ 50 —Ä–∞–∑)

**–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (5 –º–∏–Ω—É—Ç):**
```bash
# 1. –£–≤–µ–ª–∏—á–∏—Ç—å replicas –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
kubectl scale deployment catalog-service --replicas=10
kubectl scale deployment api-gateway --replicas=5

# 2. –í–∫–ª—é—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ CDN/Load Balancer —É—Ä–æ–≤–Ω–µ
# 3. –£–≤–µ–ª–∏—á–∏—Ç—å connection pool limits
```

**Auto-scaling –ø–æ–ª–∏—Ç–∏–∫–∏:**
```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: catalog-service-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: catalog-service
  minReplicas: 2
  maxReplicas: 50
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
```

**Circuit breaker –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è cascade failure:**
```javascript
const catalogBreaker = new CircuitBreaker(catalogService.getProduct, {
  timeout: 1000,
  errorThresholdPercentage: 50,
  resetTimeout: 30000
});

// Fallback –∫ –∫–µ—à—É –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ
catalogBreaker.fallback(async (productId) => {
  const cached = await redis.get(`product:${productId}`);
  return cached ? JSON.parse(cached) : { error: 'Service temporarily unavailable' };
});
```

---

## 8. üéØ –ü—Ä–æ–±–ª–µ–º—ã –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã

### –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:**

**1. –°—Ç–∞—Ä—Ç–∞–ø —Å –∫–æ–º–∞–Ω–¥–æ–π 3-5 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
- –ù–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- –õ—É—á—à–µ –º–æ–¥—É–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç —Å —á–µ—Ç–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏
- –ú–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ

**2. CRUD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:**
```javascript
// –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏
// –°–µ—Ä–≤–∏—Å—ã: Users, Tasks, Projects
// –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏–∑–ª–∏—à–Ω–∏

// –õ—É—á—à–µ: –º–æ–¥—É–ª–∏ –≤ –æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
const app = express();
app.use('/users', userRoutes);
app.use('/tasks', taskRoutes);
app.use('/projects', projectRoutes);
```

**3. –°–∏—Å—Ç–µ–º–∞ —Å —Å–∏–ª—å–Ω—ã–º–∏ ACID —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:**
```sql
-- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞: –ø–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥
BEGIN TRANSACTION;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
UPDATE accounts SET balance = balance + 100 WHERE id = 2;
INSERT INTO transactions (from_account, to_account, amount) VALUES (1, 2, 100);
COMMIT;

-- –í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–ª–æ–∂–Ω–∞—è Saga coordination
-- –ü—Ä–æ—â–µ –æ—Å—Ç–∞–≤–∏—Ç—å –≤ –º–æ–Ω–æ–ª–∏—Ç–µ
```

**–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π:**
- **Team maturity**: –µ—Å—Ç—å –ª–∏ –æ–ø—ã—Ç —Å distributed systems?
- **Business complexity**: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Å–ª–æ–∂–Ω–∞ –¥–æ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å?
- **Scale requirements**: –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –Ω—É–∂–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ?
- **Operational overhead**: –≥–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –∫ 10x —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞?

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **Business-first**: —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–æ–±–ª–µ–º—ã
2. **Start simple**: –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –º–æ–Ω–æ–ª–∏—Ç–∞, –º–∏–≥—Ä–∏—Ä—É–π—Ç–µ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏  
3. **Conway's Law**: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
4. **Operational excellence**: –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑—Ä–µ–ª—ã—Ö DevOps –ø—Ä–∞–∫—Ç–∏–∫

**–ü—Ä–∏–∑–Ω–∞–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º:**
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã > 8-10 —á–µ–ª–æ–≤–µ–∫
- ‚úÖ –ß–µ—Ç–∫–∏–µ –¥–æ–º–µ–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –ó—Ä–µ–ª—ã–µ CI/CD –∏ monitoring
- ‚úÖ –û–ø—ã—Ç —Å distributed systems