# ğŸ”§ Ğ‘Ğ»Ğ¾Ğº 2: ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ Kubernetes

**â±ï¸ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:** 3-4 Ğ½ĞµĞ´ĞµĞ»Ğ¸  
**ğŸ¯ Ğ¦ĞµĞ»ÑŒ:** ĞÑĞ²Ğ¾Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğ¼Ğ¸ Ñ€ĞµÑÑƒÑ€ÑĞ°Ğ¼Ğ¸ Kubernetes

---

## 2.1 Pods: ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ, ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ, Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ» (5-6 Ğ´Ğ½ĞµĞ¹)

### Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Pod Ğ¸ Ğ·Ğ°Ñ‡ĞµĞ¼ Ğ¾Ğ½ Ğ½ÑƒĞ¶ĞµĞ½

Pod (ÑÑ‚Ñ€ÑƒÑ‡Ğ¾Ğº) â€” ÑÑ‚Ğ¾ **Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ğ° Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ** Ğ² Kubernetes. Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€, Ğ° Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ², ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ:

- Ğ’ÑĞµĞ³Ğ´Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ (Node)
- Ğ Ğ°Ğ·Ğ´ĞµĞ»ÑÑÑ‚ ÑĞµÑ‚ĞµĞ²Ğ¾Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğ¾ Ğ¸Ğ¼ĞµĞ½ (Ğ¾Ğ´Ğ¸Ğ½ IP-Ğ°Ğ´Ñ€ĞµÑ)
- Ğ Ğ°Ğ·Ğ´ĞµĞ»ÑÑÑ‚ storage volumes
- Ğ–Ğ¸Ğ²ÑƒÑ‚ Ğ¸ ÑƒĞ¼Ğ¸Ñ€Ğ°ÑÑ‚ Ğ²Ğ¼ĞµÑÑ‚Ğµ

```
ĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Pod ĞºĞ°Ğº "ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ñƒ" Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             POD (ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Container 1 â”‚  â”‚ Container 2 â”‚   â”‚
â”‚  â”‚             â”‚  â”‚             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         ĞĞ±Ñ‰Ğ°Ñ ÑĞµÑ‚ÑŒ Ğ¸ storage        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Pod, Ğ° Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€?**

1. **Atomic unit**: Ğ•ÑĞ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµÑĞ½Ğ¾ ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ²
2. **Shared resources**: ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ğ±Ñ‰Ğ°Ñ‚ÑŒÑÑ Ñ‡ĞµÑ€ĞµĞ· localhost
3. **Co-location**: Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ, Ñ‡Ñ‚Ğ¾ ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ
4. **Simplicity**: Ğ£Ğ¿Ñ€Ğ¾Ñ‰Ğ°ĞµÑ‚ ÑĞµÑ‚ĞµĞ²Ğ¾Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

### ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ Pod

```
        POD LIFECYCLE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pending â†’ Running â†’ Succeeded      â”‚
â”‚     â†“         â†“         â†“           â”‚
â”‚  Waiting   Ready    Terminated      â”‚
â”‚     â†“         â†“         â†“           â”‚
â”‚  Failed â†â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€ Unknown      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Pod:**
- **Pending**: Pod Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹, Ğ½Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ ĞµÑ‰Ğµ Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹
- **Running**: Pod Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½ Ğº ÑƒĞ·Ğ»Ñƒ Ğ¸ Ğ²ÑĞµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹
- **Succeeded**: Ğ’ÑĞµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ»Ğ¸ÑÑŒ
- **Failed**: Ğ’ÑĞµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ»Ğ¸ÑÑŒ, Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ Ğ¾Ğ´Ğ¸Ğ½ Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹
- **Unknown**: Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Pod Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¾

### Multi-container Pods Ğ¸ Sidecar Pattern

**ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²:**

#### 1. Sidecar Pattern
```
Main Application Container + Helper Container
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               POD                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   Web App   â”‚  â”‚  Log Collector  â”‚ â”‚
â”‚ â”‚             â”‚  â”‚   (Sidecar)     â”‚ â”‚
â”‚ â”‚ generates   â”‚â”€â”€â”‚ collects &      â”‚ â”‚
â”‚ â”‚ logs        â”‚  â”‚ forwards logs   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        Shared Volume (logs)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. Ambassador Pattern
```
Main Container + Proxy Container
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               POD                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Main App   â”‚  â”‚ Proxy/Ambassadorâ”‚ â”‚
â”‚ â”‚             â”‚  â”‚                 â”‚ â”‚
â”‚ â”‚ localhost:  â”‚â”€â”€â”‚ handles         â”‚ â”‚
â”‚ â”‚ 8080        â”‚  â”‚ external comms  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. Adapter Pattern
```
Main Container + Adapter Container
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               POD                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Legacy App  â”‚  â”‚   Adapter       â”‚ â”‚
â”‚ â”‚ (old format)â”‚  â”‚ (transforms     â”‚ â”‚
â”‚ â”‚ outputs     â”‚â”€â”€â”‚ to new format)  â”‚ â”‚
â”‚ â”‚ data        â”‚  â”‚                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Init Containers

Init Containers â€” ÑÑ‚Ğ¾ **ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹**, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ÑÑ‚ÑÑ **Ğ´Ğ¾** Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.

```
INIT CONTAINERS WORKFLOW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Init Container 1 â†’ Complete âœ“
Init Container 2 â†’ Complete âœ“
Init Container 3 â†’ Complete âœ“
                â†“
    Main Containers Start
```

**Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ:**
- ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
- Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Git Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° permissions Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

### Resource Requests Ğ¸ Limits

Kubernetes Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ÑŒ **Ğ´Ğ²Ğ° Ñ‚Ğ¸Ğ¿Ğ° Ñ€ĞµÑÑƒÑ€ÑĞ½Ñ‹Ñ… Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹**:

#### Requests vs Limits
```
RESOURCE ALLOCATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚    Node Available: 4 CPU, 8GB     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pod A: Request 1 CPU, Limit 2 CPU â”‚
â”‚ Pod B: Request 1 CPU, Limit 1 CPU â”‚
â”‚ Pod C: Request 0.5 CPU, No Limit  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Request** â€” Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Pod
**Limit** â€” Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Pod Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ

#### Quality of Service (QoS) ĞºĞ»Ğ°ÑÑÑ‹:

1. **Guaranteed**: requests = limits Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²
2. **Burstable**: ĞµÑÑ‚ÑŒ requests, Ğ½Ğ¾ limits > requests
3. **BestEffort**: Ğ½ĞµÑ‚ Ğ½Ğ¸ requests, Ğ½Ğ¸ limits

```
QoS PRIORITY DURING EVICTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
BestEffort (ÑƒĞ±Ğ¸Ñ€Ğ°ÑÑ‚ÑÑ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¼Ğ¸)
    â†“
Burstable (ÑƒĞ±Ğ¸Ñ€Ğ°ÑÑ‚ÑÑ Ğ²Ñ‚Ğ¾Ñ€Ñ‹Ğ¼Ğ¸)
    â†“
Guaranteed (ÑƒĞ±Ğ¸Ñ€Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¼Ğ¸)
```

---

## 2.2 Deployments Ğ¸ ReplicaSets (5-6 Ğ´Ğ½ĞµĞ¹)

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ³Ğ¾Ğ»Ñ‹Ñ… Pods

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚Ğµ Pod Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ, Ñ‚Ğ¾:
- ĞŸÑ€Ğ¸ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¸ ÑƒĞ·Ğ»Ğ° Pod Ğ¸ÑÑ‡ĞµĞ·Ğ°ĞµÑ‚ Ğ½Ğ°Ğ²ÑĞµĞ³Ğ´Ğ°
- ĞĞµÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°
- ĞĞµÑ‚ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- ĞĞµÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞµÑ€ÑĞ¸ÑĞ¼Ğ¸

```
NAKED POD PROBLEM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Pod dies â†’ Gone forever âŒ

DEPLOYMENT SOLUTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Pod dies â†’ ReplicaSet creates new one âœ…
```

### Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ReplicaSet

ReplicaSet â€” ÑÑ‚Ğ¾ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ **Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚**, Ñ‡Ñ‚Ğ¾ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ replica Pod'Ğ¾Ğ² Ğ²ÑĞµĞ³Ğ´Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚.

```
REPLICASET WORKFLOW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Desired State: 3 replicas
Current State: 2 replicas
Action: Create 1 more pod

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ReplicaSet             â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Pod 1â”‚  â”‚Pod 2â”‚  â”‚Pod 3â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜     â”‚
â”‚     â†‘        â†‘        â†‘        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚              â”‚                 â”‚
â”‚       Label Selector           â”‚
â”‚       app=my-app               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Deployment: Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ReplicaSets

Deployment â€” ÑÑ‚Ğ¾ **Ğ²Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€**, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ReplicaSets Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚:

- Ğ”ĞµĞºĞ»Ğ°Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- Rollback Ğº Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ğ¼ Ğ²ĞµÑ€ÑĞ¸ÑĞ¼
- ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- ĞŸĞ°ÑƒĞ·Ñƒ Ğ¸ Ğ²Ğ¾Ğ·Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

```
DEPLOYMENT HIERARCHY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Deployment
    â†“ manages
ReplicaSet (v1) â†’ Pods (v1)
ReplicaSet (v2) â†’ Pods (v2) â† current
ReplicaSet (v3) â†’ (empty)   â† future
```

### Rolling Updates: Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

Rolling Update Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ **Ğ±ĞµĞ· Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ñ**:

```
ROLLING UPDATE PROCESS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 1: Start with 3 pods (v1)
[Pod v1] [Pod v1] [Pod v1]

Step 2: Create 1 new pod (v2)
[Pod v1] [Pod v1] [Pod v1] [Pod v2]

Step 3: Terminate 1 old pod
[Pod v1] [Pod v1] [Pod v2]

Step 4: Create another new pod
[Pod v1] [Pod v1] [Pod v2] [Pod v2]

Step 5: Continue until all updated
[Pod v2] [Pod v2] [Pod v2]
```

**ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Rolling Update:**
- **maxUnavailable**: Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Pod'Ğ¾Ğ² Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- **maxSurge**: Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Pod'Ğ¾Ğ² Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ

### Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

#### 1. Recreate Strategy
```
RECREATE DEPLOYMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Pod v1] [Pod v1] [Pod v1]
    â†“ (kill all)
[ DOWNTIME PERIOD ]
    â†“ (create new)
[Pod v2] [Pod v2] [Pod v2]
```

#### 2. Rolling Update Strategy (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)
```
ROLLING UPDATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Pod v1] [Pod v1] [Pod v1]
    â†“ (gradual replacement)
[Pod v2] [Pod v2] [Pod v2]
```

#### 3. Blue-Green (Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Service)
```
BLUE-GREEN DEPLOYMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Blue Environment:  [Pod v1] [Pod v1] [Pod v1]
Green Environment: [Pod v2] [Pod v2] [Pod v2]
                        â†“
Service switch: Blue â†’ Green
```

### Rollback: Ğ¾Ñ‚ĞºĞ°Ñ‚ Ğº Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸

Kubernetes Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ **Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ** Ğ²ÑĞµÑ… Deployment'Ğ¾Ğ²:

```
DEPLOYMENT HISTORY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Revision 1: image:app:v1.0
Revision 2: image:app:v1.1  â† current
Revision 3: image:app:v1.2  (failed)
                â†“
         Rollback to v1.1
```

### Horizontal Pod Autoscaler (HPA)

HPA Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ **Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµÑ‚** ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Pod'Ğ¾Ğ² Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº:

```
HPA SCALING LOGIC
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Current CPU: 80%
Target CPU: 50%
Current Replicas: 3
Desired Replicas: 80% / 50% * 3 = 4.8 â†’ 5

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               HPA               â”‚
â”‚                                 â”‚
â”‚ Target: 50% CPU                 â”‚
â”‚ Min replicas: 2                 â”‚
â”‚ Max replicas: 10                â”‚
â”‚                                 â”‚
â”‚        â†“ scales â†“               â”‚
â”‚                                 â”‚
â”‚          Deployment             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”‚
â”‚     â”‚Pod 1â”‚  â”‚Pod 2â”‚  â”‚Pod 3â”‚  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ HPA:**
- CPU utilization
- Memory utilization
- Custom metrics (Ñ‡ĞµÑ€ĞµĞ· Prometheus adapter)
- External metrics (Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸, Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğµ API)

---

## 2.3 Services: ÑĞµÑ‚ĞµĞ²Ğ¾Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ (4-5 Ğ´Ğ½ĞµĞ¹)

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° ÑĞµÑ‚ĞµĞ²Ğ¾Ğ³Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ² Kubernetes

Pod'Ñ‹ Ğ² Kubernetes:
- Ğ˜Ğ¼ĞµÑÑ‚ **ÑÑ„ĞµĞ¼ĞµÑ€Ğ½Ñ‹Ğµ IP-Ğ°Ğ´Ñ€ĞµÑĞ°** (Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸)
- ĞœĞ¾Ğ³ÑƒÑ‚ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒÑÑ Ğ½Ğ° **Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑƒĞ·Ğ»Ğ°Ñ…**
- **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒÑÑ‚ÑÑ** (ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ)

```
PODS NETWORKING PROBLEM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Pod 1 (IP: 10.1.1.1) â†â”€â”
Pod 2 (IP: 10.1.1.2) â†â”€â”¤ How to connect?
Pod 3 (IP: 10.1.1.3) â†â”€â”˜ IPs change!
```

### Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Service

Service â€” ÑÑ‚Ğ¾ **ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°** Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Pod'Ğ¾Ğ². ĞĞ½ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚:
- Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ IP-Ğ°Ğ´Ñ€ĞµÑ Ğ¸ DNS Ğ¸Ğ¼Ñ
- Load balancing Ğ¼ĞµĞ¶Ğ´Ñƒ Pod'Ğ°Ğ¼Ğ¸
- Service discovery

```
SERVICE ABSTRACTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           Client
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Service                â”‚
â”‚     Stable IP: 10.0.0.100       â”‚
â”‚     DNS: my-app.default.svc     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“ (load balance)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Pod 1     Pod 2     Pod 3    â”‚
â”‚ 10.1.1.1   10.1.1.2   10.1.1.3 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¢Ğ¸Ğ¿Ñ‹ Services

#### 1. ClusterIP (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)
Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ **Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°**:

```
CLUSTERIP SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Cluster               â”‚
â”‚                                 â”‚
â”‚  Pod A â”€â”€â†’ Service â”€â”€â†’ Pod B    â”‚
â”‚            (ClusterIP)          â”‚
â”‚                                 â”‚
â”‚  âœ… Internal access             â”‚
â”‚  âŒ External access             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. NodePort
ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾Ñ€Ñ‚ Ğ½Ğ° **Ğ²ÑĞµÑ… ÑƒĞ·Ğ»Ğ°Ñ… ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°**:

```
NODEPORT SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
External Client
       â†“
Node 1:30080 â”€â”€â”
Node 2:30080 â”€â”€â”¤ â”€â†’ Service â”€â†’ Pods
Node 3:30080 â”€â”€â”˜

Port Range: 30000-32767
```

#### 3. LoadBalancer
Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ **Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸** (Ğ² Ğ¾Ğ±Ğ»Ğ°ĞºĞµ):

```
LOADBALANCER SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
External Client
       â†“
Cloud Load Balancer (External IP)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cluster                â”‚
â”‚                                 â”‚
â”‚  Service â”€â”€â†’ Pods               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. ExternalName
Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ **CNAME Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ** Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°:

```
EXTERNALNAME SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Pod requests: my-db.default.svc
       â†“ (CNAME)
External DB: db.example.com:5432
```

### Service Discovery Ğ¸ DNS

Kubernetes Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ **DNS Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸** Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Service:

```
DNS RESOLUTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Service Name: my-app
Namespace: production
Cluster Domain: cluster.local

Full DNS Name:
my-app.production.svc.cluster.local

Short Forms (from same namespace):
- my-app
- my-app.production
```

### Endpoints Ğ¸ EndpointSlices

Service **Ğ½Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚** Pod'Ñ‹ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ. Ğ’Ğ¼ĞµÑÑ‚Ğ¾ ÑÑ‚Ğ¾Ğ³Ğ¾:

```
SERVICE â†’ ENDPOINTS â†’ PODS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Service (my-app)
    â†“ (selector: app=my-app)
Endpoints Object
    â†“ (contains IP list)
Pod 1: 10.1.1.1:8080
Pod 2: 10.1.1.2:8080
Pod 3: 10.1.1.3:8080
```

**EndpointSlices** â€” ÑÑ‚Ğ¾ Ğ½Ğ¾Ğ²Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ Endpoints, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ:
- Ğ›ÑƒÑ‡ÑˆĞµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ
- ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ²
- Ğ‘Ğ¾Ğ»ĞµĞµ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ° Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ²

### Headless Services

Headless Service **Ğ½Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ ClusterIP** Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ IP-Ğ°Ğ´Ñ€ĞµÑĞ° Ğ²ÑĞµÑ… Pod'Ğ¾Ğ²:

```
HEADLESS SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DNS Query: my-app.default.svc
Response: 
  10.1.1.1  (Pod 1)
  10.1.1.2  (Pod 2)  
  10.1.1.3  (Pod 3)

Use case: StatefulSets, Ğ³Ğ´Ğµ Ğ½ÑƒĞ¶ĞµĞ½ 
Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¼ Pod'Ğ°Ğ¼
```

---

## 2.4 ConfigMaps Ğ¸ Secrets (3-4 Ğ´Ğ½Ñ)

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°Ñ…

**Ğ¢Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´**:
- ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°ÑˆĞ¸Ñ‚Ğ° Ğ² Ğ¾Ğ±Ñ€Ğ°Ğ· ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
- Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑ€ĞµĞ´ (dev, staging, prod)
- Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸

```
TRADITIONAL CONFIG PROBLEM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
App Image v1.0-dev   (config for dev)
App Image v1.0-staging (config for staging)  
App Image v1.0-prod (config for prod)

Result: 3 different images! âŒ
```

**Kubernetes Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´**:
```
KUBERNETES CONFIG SOLUTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
App Image v1.0 (no config)
        +
ConfigMap/Secret (external config)
        â†“
Runtime Configuration âœ…
```

### ConfigMaps: Ğ½ĞµÑĞµĞºÑ€ĞµÑ‚Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

ConfigMap Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ **ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ** Ğ² Ğ²Ğ¸Ğ´Ğµ Ğ¿Ğ°Ñ€ ĞºĞ»ÑÑ‡-Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:

```
CONFIGMAP STRUCTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ConfigMap: app-config
â”œâ”€â”€ database.host = "db.example.com"
â”œâ”€â”€ database.port = "5432"
â”œâ”€â”€ log.level = "info"
â””â”€â”€ feature.enabled = "true"
```

### Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ ConfigMaps

#### 1. Environment Variables
```
CONFIGMAP AS ENV VARS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ConfigMap â†’ Environment Variables
              â†“
Container sees:
- DATABASE_HOST=db.example.com
- DATABASE_PORT=5432
- LOG_LEVEL=info
```

#### 2. Volume Mounts
```
CONFIGMAP AS VOLUME
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ConfigMap â†’ Volume â†’ Files
              â†“
Container sees files:
/config/database.host
/config/database.port
/config/log.level
```

#### 3. Command Line Arguments
```
CONFIGMAP AS ARGS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ConfigMap values â†’ Command args
                    â†“
Container starts with:
app --db-host=db.example.com --log-level=info
```

### Secrets: ÑĞµĞºÑ€ĞµÑ‚Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ

Secrets Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸ Ğ½Ğ° ConfigMaps, Ğ½Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ñ‹ Ğ´Ğ»Ñ **Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**:

```
SECRETS vs CONFIGMAPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ConfigMap:           Secret:
- Database host      - Database password
- Log level          - API keys
- Feature flags      - TLS certificates
- App settings       - OAuth tokens
```

### Ğ¢Ğ¸Ğ¿Ñ‹ Secrets

#### 1. Opaque (generic)
ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:
```
SECRET: database-credentials
â”œâ”€â”€ username = "admin"
â””â”€â”€ password = "super-secret-123"
```

#### 2. kubernetes.io/dockerconfigjson
Credentials Ğ´Ğ»Ñ Docker registry:
```
SECRET: docker-registry-creds
â””â”€â”€ .dockerconfigjson = {"auths": {...}}
```

#### 3. kubernetes.io/tls
TLS ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ñ‹:
```
SECRET: tls-certificate
â”œâ”€â”€ tls.crt = (certificate)
â””â”€â”€ tls.key = (private key)
```

#### 4. kubernetes.io/service-account-token
Ğ¢Ğ¾ĞºĞµĞ½Ñ‹ Service Account:
```
SECRET: sa-token
â”œâ”€â”€ token = (JWT token)
â”œâ”€â”€ ca.crt = (CA certificate)
â””â”€â”€ namespace = "default"
```

### Base64 ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Secrets

**Ğ’Ğ°Ğ¶Ğ½Ğ¾**: Secrets Ğ² Kubernetes **ĞĞ• Ğ·Ğ°ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹**, Ğ° Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ·Ğ°ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ² Base64!

```
SECRET ENCODING (NOT ENCRYPTION!)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Plain text: "password123"
Base64:     "cGFzc3dvcmQxMjM="

âš ï¸  Base64 â‰  Encryption
âš ï¸  Anyone with access can decode
```

### Best Practices Ğ´Ğ»Ñ Secrets

#### 1. RBAC Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ
```
RBAC FOR SECRETS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
User/Service Account
       â†“ (limited permissions)
Only specific Secrets
       â†“ (principle of least privilege)
Application Pods
```

#### 2. Encryption at Rest
```
ENCRYPTION AT REST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Secret (plain) â†’ etcd (encrypted)
                    â†‘
               EncryptionConfig
```

#### 3. External Secret Management
```
EXTERNAL SECRET STORE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
HashiCorp Vault
AWS Secrets Manager  â†â†’ Kubernetes
Azure Key Vault           Secret
GCP Secret Manager
```

#### 4. Secret Rotation
```
SECRET ROTATION WORKFLOW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Generate new secret
2. Update Secret object
3. Rolling restart pods
4. Revoke old secret
```

### Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

```
CONFIG LIFECYCLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Development:
â”œâ”€â”€ ConfigMap: app-config-dev
â””â”€â”€ Secret: db-secret-dev

Staging:
â”œâ”€â”€ ConfigMap: app-config-staging  
â””â”€â”€ Secret: db-secret-staging

Production:
â”œâ”€â”€ ConfigMap: app-config-prod
â””â”€â”€ Secret: db-secret-prod
```

---

## 2.5 Namespaces: Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² (2-3 Ğ´Ğ½Ñ)

### Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Namespace

Namespace â€” ÑÑ‚Ğ¾ **Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ** ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚:
- Ğ›Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€ÑÑ‹
- ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° (RBAC)
- Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€ÑĞ½Ñ‹Ğµ ĞºĞ²Ğ¾Ñ‚Ñ‹
- ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ multi-tenancy

```
CLUSTER WITH NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Cluster               â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   dev    â”‚  â”‚ staging  â”‚    â”‚
â”‚  â”‚ namespaceâ”‚  â”‚namespace â”‚    â”‚
â”‚  â”‚          â”‚  â”‚          â”‚    â”‚
â”‚  â”‚ Pod A    â”‚  â”‚ Pod A    â”‚    â”‚ â† Same name, different namespaces
â”‚  â”‚ Service Bâ”‚  â”‚ Service Bâ”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   prod   â”‚  â”‚ kube-sys â”‚    â”‚
â”‚  â”‚ namespaceâ”‚  â”‚namespace â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Namespaces

Kubernetes ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ **ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ñ… namespaces**:

```
SYSTEM NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
default
â”œâ”€â”€ Default namespace Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²
â””â”€â”€ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ, ĞµÑĞ»Ğ¸ namespace Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½

kube-system  
â”œâ”€â”€ Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Kubernetes
â”œâ”€â”€ kube-dns, kube-proxy, etcd
â””â”€â”€ âš ï¸ ĞĞµ Ñ‚Ñ€Ğ¾Ğ³Ğ°Ğ¹Ñ‚Ğµ Ğ±ĞµĞ· Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸!

kube-public
â”œâ”€â”€ Ğ ĞµÑÑƒÑ€ÑÑ‹, Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ²ÑĞµĞ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼
â””â”€â”€ ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ cluster info

kube-node-lease
â”œâ”€â”€ Node heartbeat Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹
â””â”€â”€ Ğ”Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
```

### DNS Ğ¸ Namespaces

**DNS resolution** Ğ² Kubernetes ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ namespaces:

```
DNS RESOLUTION WITH NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Service: my-app
Namespace: production

Full DNS name:
my-app.production.svc.cluster.local

From same namespace:
â””â”€â”€ my-app

From different namespace:
â””â”€â”€ my-app.production

Cross-namespace communication:
frontend (web namespace) 
    â†“
backend.api.svc.cluster.local
```

### Resource Quotas: Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²

ResourceQuota Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ **Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ** Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Ğ² namespace:

```
RESOURCE QUOTA EXAMPLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Namespace: development
ResourceQuota: dev-quota

Limits:
â”œâ”€â”€ CPU requests: 10 cores
â”œâ”€â”€ Memory requests: 20Gi
â”œâ”€â”€ CPU limits: 20 cores
â”œâ”€â”€ Memory limits: 40Gi
â”œâ”€â”€ Pods: 50
â”œâ”€â”€ Services: 10
â”œâ”€â”€ Secrets: 20
â””â”€â”€ ConfigMaps: 30
```

### LimitRange: Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ

LimitRange ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ **Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ** Ğ´Ğ»Ñ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²:

```
LIMITRANGE EXAMPLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Namespace: development
LimitRange: dev-limits

Pod defaults:
â”œâ”€â”€ CPU request: 100m
â”œâ”€â”€ CPU limit: 500m  
â”œâ”€â”€ Memory request: 128Mi
â””â”€â”€ Memory limit: 512Mi

Container limits:
â”œâ”€â”€ Min CPU: 50m
â”œâ”€â”€ Max CPU: 2000m
â”œâ”€â”€ Min Memory: 64Mi
â””â”€â”€ Max Memory: 2Gi
```

### Network Policies Ğ¼ĞµĞ¶Ğ´Ñƒ Namespaces

ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ **Ğ²ĞµÑÑŒ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½** Ğ¼ĞµĞ¶Ğ´Ñƒ namespaces. NetworkPolicy Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑÑ‚Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ:

```
NETWORK ISOLATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Without NetworkPolicy:
frontend namespace â†â†’ backend namespace âœ…
backend namespace  â†â†’ database namespace âœ…

With NetworkPolicy:
frontend namespace â†â†’ backend namespace âœ…
backend namespace  â†â†’ database namespace âœ…
frontend namespace â†Xâ†’ database namespace âŒ
```

### ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹

#### 1. ĞŸĞ¾ ÑÑ€ĞµĞ´Ğ°Ğ¼ (Environment-based)
```
ENVIRONMENT NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ development
â”œâ”€â”€ staging  
â”œâ”€â”€ production
â””â”€â”€ testing
```

#### 2. ĞŸĞ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼ (Team-based)
```
TEAM NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ team-frontend
â”œâ”€â”€ team-backend
â”œâ”€â”€ team-data
â””â”€â”€ team-platform
```

#### 3. ĞŸĞ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ÑĞ¼ (Application-based)
```
APPLICATION NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ ecommerce-web
â”œâ”€â”€ ecommerce-api
â”œâ”€â”€ ecommerce-payment
â””â”€â”€ ecommerce-analytics
```

#### 4. Multi-tenant
```
MULTI-TENANT NAMESPACES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ tenant-company-a
â”œâ”€â”€ tenant-company-b
â”œâ”€â”€ tenant-company-c
â””â”€â”€ shared-services
```

---

## ğŸ† ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ Ğ‘Ğ»Ğ¾ĞºĞ° 2

ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ° Ğ²Ñ‹ Ğ±ÑƒĞ´ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ:

### ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ:
- **ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹** Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ² Kubernetes
- **Ğ–Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ»** Pod'Ğ¾Ğ² Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²
- **ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹** Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ multi-container Pod'Ğ¾Ğ²
- **Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ** Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞµÑ€ÑĞ¸ÑĞ¼Ğ¸
- **Ğ¡ĞµÑ‚ĞµĞ²ÑƒÑ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ** Ğ¸ service discovery
- **Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹** Ğ¸ ÑĞµĞºÑ€ĞµÑ‚Ğ°Ğ¼Ğ¸
- **ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²** Ñ‡ĞµÑ€ĞµĞ· namespaces

### ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸:
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Pod'Ğ°Ğ¼Ğ¸
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Deployment'Ğ¾Ğ² Ñ rolling updates
- ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· HPA
- ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Services Ğ²ÑĞµÑ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ²
- Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ ConfigMaps Ğ¸ Secrets
- ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ multi-tenant ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ²

### ĞŸĞ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾ÑĞ²ÑĞ·ĞµĞ¹:
```
KUBERNETES OBJECTS RELATIONSHIPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Namespace
    â†“ contains
Deployment
    â†“ manages
ReplicaSet  
    â†“ creates
Pods â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Service (selects)
 â†“                    â†‘
ConfigMap/Secret â”€â”€â”€â”€â”€â”˜
 â†“ (mounted as)
Volumes
```

### Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ±Ğ»Ğ¾ĞºÑƒ:
- ĞŸĞ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ¾ÑĞ½Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑĞµÑ‚ĞµĞ¹ Ğ¸ storage
- Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ingress
- Ğ¤ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ StatefulSets
- ĞÑĞ½Ğ¾Ğ²Ğ° Ğ´Ğ»Ñ ÑƒĞ³Ğ»ÑƒĞ±Ğ»ĞµĞ½Ğ¸Ñ Ğ² Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

---

## ğŸ“š ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ·Ğ°ĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ñ

### Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ 1: ĞœĞ½Ğ¾Ğ³Ğ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑÑ‰ĞµĞµ Ğ¸Ğ·:
- Frontend (React app)
- Backend API (Node.js/Python)
- Database (PostgreSQL)
- Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ 2: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ HPA Ğ´Ğ»Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ· ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·Ğ¾Ñ‡Ğ½Ñ‹Ğ¼ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼.

### Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ 3: ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· ConfigMaps
ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑ€ĞµĞ´ (dev/staging/prod) Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ ConfigMaps Ğ¸ Secrets.

---

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ±Ğ»Ğ¾Ğº**: Ğ¡ĞµÑ‚ĞµĞ²Ğ¾Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¸ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ğŸŒ